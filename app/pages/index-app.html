<!DOCTYPE html>

<!--
Author: Fabiano Barros
Product FrameWork: Metronic - Bootstrap 5 HTML, VueJS, React, Angular & Laravel Admin Dashboard Theme
Website: http://www.step.eco.br
Contact: dev@grupoep.com.br

License: For each use you must have a valid license purchased only from above link in order to legally use the theme for your project.
-->
<html lang="pt-BR">
<!--begin::Head-->
<httpProtocol>
    <customHeaders>
        <add name="Access-Control-Allow-Origin" value="*" />
    </customHeaders>
</httpProtocol>

<head>
    <base href="../">
    <meta charset="utf-8" />
    <meta name="description" content="STEP 2022" />
    <meta name="keywords" content="STEP 2022, Iot, Grupo EP" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:locale" content="pt-BR" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="STEP 2022" />
    <meta property="og:url" content="https://step.eco.br.com" />
    <meta property="og:site_name" content="STEP 2022" />
    <link rel="canonical" href="https://grupoep.com.br/eptech" />
    <link rel="shortcut icon" href="assets/media/logos/favicon.ico" />
    <!--begin::Fonts-->
    <!--begin::Fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
    <!--end::Fonts-->
    <!--begin::Page Vendor Stylesheets(used by this page)-->
    <link href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/custom/prismjs/prismjs.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Page Vendor Stylesheets-->

    <!--begin::Global Stylesheets Bundle(used by all pages)-->
    <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />

      <!-- Inserir este SCRIPT no inicio da pagina ou no header -->

  <!-- fim do script -->
  <noscript>
    <p>Javascript DESABILITADO no navegador!</p>
    <meta http-equiv="refresh" content="2; https://support.google.com/adsense/answer/12654?hl=pt-BR">
  </noscript>

    <!--end::Global Stylesheets Bundle-->
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body"
    class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fluid aside-enabled aside-fixed"
    style="--kt-toolbar-height:55px;--kt-toolbar-height-tablet-and-mobile:55px">
    <!--begin::Main-->
    <!--begin::Root-->
    <div class="d-flex flex-column flex-root">
        <!--begin::Page-->
        <div class="page d-flex flex-row flex-column-fluid">


            <!--begin::Wrapper-->
            <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <!--begin::Header-->

                <div id="kt_header" class="header align-items-stretch">
                    <!--begin::Container-->
                    <div class="container-fluid d-flex align-items-stretch justify-content-between">
                        <!--begin::Aside mobile toggle-->

                        <!--begin::Mobile logo-->
                        <div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0">
                            <a href="javascript:;" class="d-lg-none">
                                <img alt="Logo" src="assets/media/logos/logo-4-sm.png" class="h-30px">
                            </a>
                        </div>
                        <!--end::Mobile logo-->
                        <!--begin::Wrapper-->
                        <div class="d-flex align-items-stretch justify-content-between flex-lg-grow-1">
                            <!--begin::Navbar-->

                            <!--end::Navbar-->
                            <!--begin::Toolbar wrapper-->
                            <div class="d-flex align-items-stretch flex-shrink-0">



                                <!--begin::Theme mode-->

                                <!--end::Theme mode-->
                                <!--begin::User menu-->
                                <div class="d-flex align-items-center ms-1 ms-lg-3" id="kt_header_user_menu_toggle">
                                    <!--begin::Menu wrapper-->
                                    <div class="cursor-pointer symbol symbol-20px symbol-md-40px"
                                        data-kt-menu-trigger="click" data-kt-menu-attach="parent"
                                        data-kt-menu-placement="bottom-end">
                                        <img src="assets/media/avatars/blank.png" alt="user"
                                            id="mini_foto_usuario_logado">
                                    </div>
                                    <!--begin::User account menu-->
                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px"
                                        data-kt-menu="true">
                                        <!--begin::Menu item-->
                                        <div class="menu-item px-3">
                                            <div class="menu-content d-flex align-items-center px-3">
                                                <!--begin::Avatar-->
                                                <div class="symbol symbol-50px me-5">
                                                    <img alt="avatar-usuario" id="foto_usuario_logado"
                                                        src="assets/media/avatars/blank.png">
                                                </div>
                                                <!--end::Avatar-->
                                                <!--begin::Username-->
                                                <div class="d-flex flex-column">
                                                    <div class="fw-bolder d-flex align-items-center fs-5"
                                                        id="nome_usuario_logado">Nome do usuário

                                                    </div>
                                                    <span class="badge badge-light-success fw-bolder fs-7  ms-1"
                                                        id="nivel_usuario_logado">Nível de acesso</span>
                                                    <a href="javascript:;"
                                                        class="fw-bold text-muted text-hover-primary fs-7"
                                                        id="email_usuario_logado">e-mail do usuário</a>
                                                </div>
                                                <!--end::Username-->
                                            </div>
                                        </div>
                                        <!--end::Menu item-->

                                        <!--begin::Menu separator (Link para o Perfil do Usuário)
                                        <div class="separator my-2"></div>
                                  
                                    
                                        <div class="menu-item px-5">
                                            <a href="account/overview.html" class="menu-link px-5">Meu
                                                Perfil</a>
                                        </div>
                                    end::Menu item-->

                                        <!--begin::Menu separator-->
                                        <div class="separator my-2"></div>
                                        <!--end::Menu separator-->
                                        <!--begin::Menu item-->
                                        <div class="menu-item px-5">
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-3">
                                                <a href="crud/logout.php" class="menu-link px-3">Sair do STEP</a>
                                            </div>
                                            <!--end::Menu item-->
                                        </div>
                                        <!--end::Menu item-->
                                    </div>
                                    <!--end::User account menu-->
                                    <!--end::Menu wrapper-->
                                </div>
                                <!--end::User menu-->
                                <!--begin::Header menu toggle-->
                                <!--end::Header menu toggle-->
                            </div>
                            <!--end::Toolbar wrapper-->
                        </div>
                        <!--end::Wrapper-->
                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Header-->
                <!--begin::Content-->
                <div class="content d-flex flex-column justify-content-center" id="kt_content">
                    <!--begin::Toolbar-->
                    <div class="toolbar" id="kt_toolbar">
                        <!--begin::Container-->
                        <div id="kt_toolbar_container" class="container-xxl d-flex justify-content-center ">
                            <!--begin::Page title-->
                            <div data-kt-swapper="true" data-kt-swapper-mode="prepend"
                                data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}"
                                class="page-title d-flex justify-content-center flex-wrap me-3 mb-5 mb-lg-0">
                                <!--begin::Title-->
                                <h1 class="d-flex align-items-center text-dark fw-bolder fs-3 my-1">STEP para
                                    Operações</h1>


                                    
                                <!--end::Title-->

                                <!--begin::Breadcrumb-->

                            </div>
                            <!--end::Page title-->


                            <!--begin::Menu de Botões/Funções do APP -->
                            <div class="d-flex align-items-center gap-2 gap-lg-3">
                                <!--begin::Filter menu-->

                                <!--begin::Ler PLCode button-->
                                <a href="javascript:;"
                                    class="btn btn-sm btn-flex btn-light btn-active-success fw-bolder"
                                    data-bs-toggle="modal" data-bs-target="#modal_le_plcode">
                                    <!--begin::Svg Icon | path: icons/duotune/general/gen044.svg-->
                                    <i class="bi bi-qr-code-scan fs-3x"></i>
                                    <!--end::Svg Icon-->

                                </a>
                                <!--end::Ler PLCode button-->
                                <!-- MENU CHECKIN-->

                                <!-- BT HELP-->
                                <div class="m-0 w-auto text-uppercase">
                                    <a href="javascript:;"
                                        class="btn btn-sm btn-flex btn-light btn-active-primary fw-bolder text-uppercase"
                                        data-kt-menu-trigger="click" data-kt-menu-placement="bottom-start">

                                        <i class="fas fa-angle-double-down fs-3"></i>
                                        <i class="bi bi-alarm fs-2x"></i>
                                    </a>
                                    <!--end::Trigger-->

                                    <!--begin::HELP-->
                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-200px py-4"
                                        data-kt-menu="true">
                                        <!--begin::Menu item-->
                                        <div class="menu-link px-3">
                                            <!--begin::Menu toggle-->
                                            <a href="javascript:;"
                                                class="btn btn-sm btn-flex btn-light btn-active-primary fw-bolder text-uppercase"
                                                data-bs-toggle="modal" data-bs-target="#modal_checkin_leitura_rmm">
                                                <!--begin::Svg Icon | path: icons/duotune/general/gen031.svg-->

                                                <!--end::Svg Icon-->Check-in Leitura de Indicadores
                                            </a>
                                            <!--end::Menu toggle-->
                                        </div>
                                        <!--end::Menu item-->

                                        <div class='separator my-2'></div>
                                        <!--begin::Menu item-->

                                        <div class="menu-item px-3">
                                            <!--begin::Menu toggle-->
                                            <a href="javascript:;"
                                                class="btn btn-sm btn-flex btn-light btn-active-primary fw-bolder text-uppercase"
                                                data-bs-toggle="modal" data-bs-target="#modal_checkin_presencial">
                                                <!--begin::Svg Icon | path: icons/duotune/general/gen031.svg-->

                                                <!--end::Svg Icon-->Check-in Verificação Presencial
                                            </a>
                                            <!--end::Menu toggle-->

                                        </div>


                                    </div>
                                    <!--end::Menu-->
                                </div>
                                <!--end::HELP button-->

                                <!-- FIM Menu Checkin-->




                                <!-- BT HELP-->
                                <div class="m-0 w-auto text-uppercase">
                                    <a href="javascript:;"
                                        class="btn btn-sm btn-flex btn-light btn-active-success fw-bolder"
                                        data-kt-menu-trigger="click" data-kt-menu-placement="bottom-start">

                                        <i class="fas fa-angle-double-down fs-3 "></i>
                                        <i class="bi bi-question-circle light fs-2x  fw-bold"></i>
                                    </a>
                                    <!--end::Trigger-->

                                    <!--begin::HELP-->
                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-info fw-bold fs-7 w-200px py-2"
                                        data-kt-menu="true">
                                        <!--begin::Menu item-->
                                        <div class="menu-link px-3">
                                            <a href="javascript:;"
                                                class="btn btn-sm btn-flex btn-light btn-active-success fw-bolder text-uppercase"
                                                data-bs-toggle="modal" data-bs-target="#modal_Procedimento_Ajuda">
                                                <span class="badge badge-success text-bold">Precisa de
                                                    Ajuda?</span>
                                            </a>

                                        </div>
                                        <!--end::Menu item-->

                                        <div class='separator my-2'></div>
                                        <!--begin::Menu item-->

                                        <div class="menu-item px-3">
                                            <a href="javascript:;"
                                                class="btn btn-sm btn-flex btn-light btn-active-success fw-bolder text-uppercase"
                                                data-bs-toggle="modal" data-bs-target="#modal_Atividades_Recentes">
                                                Atividades Recentes
                                            </a>

                                        </div>

                                        <div class='separator my-2'></div>

                                        <!--begin::Menu item-->
                                        <div class="menu-item px-3">
                                            <a href="javascript:;"
                                                class="btn btn-sm btn-flex btn-light btn-active-success fw-bolder text-uppercase"
                                                data-bs-toggle="modal" data-bs-target="#modal_Instrucao_Operacional">
                                                Instrução Operacional
                                            </a>
                                        </div>
                                        <!--end::Menu item-->



                                    </div>
                                    <!--end::Menu-->
                                </div>
                                <!--end::HELP button-->


                                <!--begin::Ler PLCode button-->
                                <a href="javascript:;" class="btn btn-sm btn-flex btn-light btn-active-danger fw-bolder"
                                    onclick="Solicita_Suporte()"> <i class="bi bi-info-square-fill fs-2x"></i>
                                </a>
                                <!--end::Ler PLCode button-->

                                <!--end::Label-->
                            </div>
                            <!--END::Menu de Botões/Funções do APP -->

                        </div>
                        <!--end::Container-->
                    </div>
                    <!--end::Toolbar-->
                    <!--begin::Post-->
                    <div class="post d-flex flex-column-fluid" id="kt_post">
                        <!--begin::Container-->
                        <div id="kt_content_container" class="container-xxl">

                            <!--begin::Aside column-->
                            <div id="map"></div>

                            <!-- Caso já haja um PLCode Lido, e a estação e cliente armazenados, mesmo após o envio da Leitura estas informações permanecem-->
                            <div class="mb-10 fv-row fv-plugins-icon-container fv-plugins-bootstrap5-row-invalid d-none"
                                id="div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido">

                                <!--begin::Dados Cliente-->
                                <div class="d-flex align-items-center mb-2">

                                    <a href="javascript:;">
                                        <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                        <span class="svg-icon svg-icon-1 svg-icon-success 2hx" data-bs-toggle="tooltip"
                                            title=""
                                            data-bs-original-title="Este é nosso Cliente, há quem pertence o PLCode Lido!"
                                            aria-label="Este é nosso CLiente, há quem pertence o PLCode Lido!">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px"
                                                viewBox="0 0 24 24">
                                                <path
                                                    d="M10.0813 3.7242C10.8849 2.16438 13.1151 2.16438 13.9187 3.7242V3.7242C14.4016 4.66147 15.4909 5.1127 16.4951 4.79139V4.79139C18.1663 4.25668 19.7433 5.83365 19.2086 7.50485V7.50485C18.8873 8.50905 19.3385 9.59842 20.2758 10.0813V10.0813C21.8356 10.8849 21.8356 13.1151 20.2758 13.9187V13.9187C19.3385 14.4016 18.8873 15.491 19.2086 16.4951V16.4951C19.7433 18.1663 18.1663 19.7433 16.4951 19.2086V19.2086C15.491 18.8873 14.4016 19.3385 13.9187 20.2758V20.2758C13.1151 21.8356 10.8849 21.8356 10.0813 20.2758V20.2758C9.59842 19.3385 8.50905 18.8873 7.50485 19.2086V19.2086C5.83365 19.7433 4.25668 18.1663 4.79139 16.4951V16.4951C5.1127 15.491 4.66147 14.4016 3.7242 13.9187V13.9187C2.16438 13.1151 2.16438 10.8849 3.7242 10.0813V10.0813C4.66147 9.59842 5.1127 8.50905 4.79139 7.50485V7.50485C4.25668 5.83365 5.83365 4.25668 7.50485 4.79139V4.79139C8.50905 5.1127 9.59842 4.66147 10.0813 3.7242V3.7242Z"
                                                    fill="#00A3FF"></path>
                                                <path class="permanent"
                                                    d="M14.8563 9.1903C15.0606 8.94984 15.3771 8.9385 15.6175 9.14289C15.858 9.34728 15.8229 9.66433 15.6185 9.9048L11.863 14.6558C11.6554 14.9001 11.2876 14.9258 11.048 14.7128L8.47656 12.4271C8.24068 12.2174 8.21944 11.8563 8.42911 11.6204C8.63877 11.3845 8.99996 11.3633 9.23583 11.5729L11.3706 13.4705L14.8563 9.1903Z"
                                                    fill="white"></path>
                                            </svg>
                                        </span>
                                        <!--end::Svg Icon-->
                                    </a>

                                    <a href="javascript:;" class="text-primary-900 text-primary  fs-2 fw-bolder me-1"
                                        id="nome_cliente">Cliente</a>
                                </div>
                                <!--end::Dados Cliente-->

                                <!--begin::Dados Estação Selecionada-->
                                <div class="d-flex align-items-center mb-2">

                                    <a href="javascript:;">
                                        <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                        <span class="svg-icon svg-icon-1 svg-icon-success 2hx" data-bs-toggle="tooltip"
                                            title=""
                                            data-bs-original-title="Esta é a Estação que foi selecionada automaticamente, através do PLCODE lido. "
                                            aria-label="Esta Estação foi selecionada automaticamente, através do PLCODE lido.">
                                            <svg class="h-30px w-30px" xmlns="http://www.w3.org/2000/svg" width="24px"
                                                height="24px" viewBox="0 0 24 24">
                                                <path opacity="0.3"
                                                    d="M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z"
                                                    fill="black" />
                                                <path
                                                    d="M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z"
                                                    fill="black" />
                                            </svg>
                                        </span>
                                        <!--end::Svg Icon-->
                                    </a>

                                    <a href="javascript:;" class="text-gray-900 text-primary  fs-2 fw-bolder me-1"
                                        id="nome_estacao"> Nome da
                                        Estação</a>
                                </div>
                                <!--end::Dados Estação Selecionada-->


                            </div>
                            <!-- Caso já haja um PLCode Lido, e a estação e cliente armazenados, mesmo após o envio da Leitura estas informações permanecem-->

                            <!--begin::Dados do PLCode Lido-->
                            <div class="d-flex align-items-center mb-2 d-none" id="Dados_PLCode_lido">


                                <a href="javascript:;">
                                    <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                    <span class="svg-icon svg-icon-1 svg-icon-success 2hx" data-bs-toggle="tooltip"
                                        title=""
                                        data-bs-original-title="Este PLCode foi selecionado automaticamente, através do QRCode Lido; "
                                        aria-label="Este PLCode foi selecionado automaticamente, através do QRCode Lido">

                                        <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34"
                                            viewBox="0 0 16 16" fill="currentColor" class="bi bi-qr-code">
                                            <path d="M2 2h2v2H2V2Z"></path>
                                            <path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z">
                                            </path>
                                            <path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z">
                                            </path>
                                            <path
                                                d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z">
                                            </path>
                                            <path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z">
                                            </path>
                                        </svg>

                                    </span>
                                    <!--end::Svg Icon-->
                                </a>

                                <a href="javascript:;" class="text-gray-800 text-hover-primary fs-2 fw-bolder ms-2"
                                    id="nome_plcode">Nome do
                                    PLCODE</a>
                            </div>
                            <!--end::Dados PLCode Lido-->

                            <!-- Início Mensagem Boas Vindas e Orientação-->
                            <div class="card justify-content-center" id="div_Boas_Vindas">
                                <!--begin::Card body-->
                                <div class="card-body  align-items-center">
                                    <!--begin::Stepper-->

                                    <div class="stepper stepper-links d-flex flex-column pt-15 between"
                                        id="kt_create_account_stepper" data-kt-stepper="true">
                                        <!--begin::Nav-->
                                        <div class="stepper-nav mb-5">

                                            <!--begin::Step 2-->
                                            <div class="stepper-item current" data-kt-stepper-element="nav">
                                                <h3 class="stepper-title" id="usuario_operacao">Boas Vindas à
                                                    Operação </h3>

                                            </div>
                                            <!--end::Step 2-->


                                        </div>
                                        <!--end::Nav-->
                                        <!--begin::Form-->

                                        <!--begin::Step 1-->
                                        <div class="completed" data-kt-stepper-element="content">
                                            <!--begin::Wrapper-->
                                            <div class="w-100 justify-content-center">
                                                <!--begin::Heading-->
                                                <div class="pb-10 pb-lg-15">
                                                    <!--begin::Title-->
                                                    <h2 class="fw-bolder d-flex align-items-center text-dark">
                                                        Importância dos Dados Coletados

                                                    </h2>
                                                    <!--end::Title-->

                                                </div>
                                                <!--end::Heading-->

                                            </div>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Step 1-->
                                        <!--begin::Step 2-->
                                        <div data-kt-stepper-element="content" class="current">
                                            <!--begin::Wrapper-->
                                            <div class="w-100 ">

                                                <!--begin::Heading-->
                                                <div class="pb-10 pb-lg-15">
                                                    <!--begin::Title-->
                                                    <h4 class="fw-bolder text-dark">A Importância dos Dados Coletados
                                                    </h4>
                                                    <!--end::Title-->
                                                    <!--begin::Notice-->
                                                    <div class="text-muted fw-bold fs-6 ">Todas as Informações
                                                        são de responsabilidade do Usuário que às fornece.
                                                        Certifique-se que os Valores Informados estão corretos antes de
                                                        realizar o Envio dos Dados.
                                                        <small>* Coordenadas GPS serão automaticamente captadas ao
                                                            Ler
                                                            o PLCode.</small>
                                                    </div>
                                                    <!--end::Notice-->
                                                </div>
                                                <!--end::Heading-->


                                            </div>
                                            <!--end::Wrapper-->


                                        </div>
                                        <!--end::Step 2-->



                                        <!--end::Form-->
                                    </div>
                                    <!--end::Stepper-->
                                </div>
                                <!--end::Card body-->
                            </div>
                            <!--end::Main column-->
                            <!-- FIM Mensagem Boas Vindas e Orientação-->


                            <!-- Inicio dos Alertas de PLCodes Inativos ou em Alerta e suas Estações de Operação-->

                            <!--begin::Alert ESTAÇÃO EM ALERTA-->
                            <div class="alert alert-dismissible bg-light-danger d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10 d-none"
                                id="div_Estacao_em_Alerta">
                                <!--begin::Close-->
                                <button type="button"
                                    class="position-absolute top-0 end-0 m-2 btn btn-icon btn-icon-danger"
                                    data-bs-dismiss="alert">
                                    <span class="svg-icon svg-icon-1"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                            height="16" fill="currentColor" class="bi bi-arrow-down-left-square-fill"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm8.096-10.803L6 9.293V6.525a.5.5 0 0 0-1 0V10.5a.5.5 0 0 0 .5.5h3.975a.5.5 0 0 0 0-1H6.707l4.096-4.096a.5.5 0 1 0-.707-.707z" />
                                        </svg></span>
                                </button>
                                <!--end::Close-->

                                <!--begin::Icon-->
                                <span class="svg-icon svg-icon-5tx svg-icon-danger mb-5"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                        <path
                                            d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                        <path
                                            d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                                    </svg></span>
                                <!--end::Icon-->

                                <!--begin::Wrapper-->
                                <div class="text-center">
                                    <!--begin::Title-->
                                    <h1 class="fw-bolder mb-5">Estação em Alerta</h1>
                                    <!--end::Title-->

                                    <!--begin::Separator-->
                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                    <!--end::Separator-->

                                    <!--begin::Content-->
                                    <div class="mb-9 text-dark">
                                        <p>Foi Localizado um Chamado de Suporte, colocando esta Estação em Estado de
                                            Alerta.</p>
                                        <p>Não é possível prosseguir, pois a Estação está em Alerta em seu Cadastro.</p>


                                        <p>Caso tenha convicção das informações Atualizadas da Estação, e deseje liberar
                                            a mesma para prosseguir com a Operação, será necessário informar o Motivo
                                            após solicitar a Liberação da Estação. </p>

                                        <div class="form-floating d-none" id="Motivo_Libera_Estacao_Alerta">
                                            <textarea class="form-control" placeholder="Descreva o Motivo"
                                                name="Texto_Motivo_Libera_Estacao" style="height: 200px"></textarea>
                                            <label for="floatingTextarea2">Descreva o Motivo...</label>
                                        </div>

                                    </div>
                                    <!--end::Content-->

                                    <!--begin::Buttons-->
                                    <div class="d-flex flex-center flex-wrap">
                                        <a href="javascript:;"
                                            class="btn btn-outline btn-outline-danger btn-active-danger m-2"
                                            id="Fecha_Div_Estacao_Alerta"
                                            onclick="Bt_Fecha_Div_Estacao_Alerta()">Cancelar
                                            Leitura</a>
                                        <a href="javascript:;" class="btn btn-danger m-2"
                                            id="Bt_Reativa_Estacao_em_Alerta" onclick="Bt_Libera_Estacao()">Liberar
                                            Estação e PLCODE</a>

                                        <a href="javascript:;" class="btn btn-danger m-2  d-none"
                                            id="Bt_Reativa_Estacao_em_Alerta_Final"
                                            onclick="Bt_Reativa_Estacao_em_Alerta_Final()">Confirmar Solicitação</a>
                                    </div>
                                    <!--end::Buttons-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Alert ESTAÇÃO EM ALERTA-->

                            <!--begin::Alert ESTAÇÃO Inativa-->
                            <div class="alert alert-dismissible bg-light-danger d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10 d-none"
                                id="div_Estacao_Inativa">
                                <!--begin::Close-->
                                <button type="button"
                                    class="position-absolute top-0 end-0 m-2 btn btn-icon btn-icon-danger"
                                    data-bs-dismiss="alert">
                                    <span class="svg-icon svg-icon-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-arrow-down-left-square-fill"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm8.096-10.803L6 9.293V6.525a.5.5 0 0 0-1 0V10.5a.5.5 0 0 0 .5.5h3.975a.5.5 0 0 0 0-1H6.707l4.096-4.096a.5.5 0 1 0-.707-.707z" />
                                        </svg>
                                    </span>
                                </button>
                                <!--end::Close-->

                                <!--begin::Icon-->
                                <span class="svg-icon svg-icon-5tx svg-icon-danger mb-5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red"
                                        class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                        <path
                                            d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                        <path
                                            d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                                    </svg>
                                </span>
                                <!--end::Icon-->

                                <!--begin::Wrapper-->
                                <div class="text-center">
                                    <!--begin::Title-->
                                    <h1 class="fw-bolder mb-5">Estação Inativa</h1>
                                    <!--end::Title-->

                                    <!--begin::Separator-->
                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                    <!--end::Separator-->

                                    <!--begin::Content-->
                                    <div class="mb-9 text-dark">
                                        <p>Não é possível prosseguir, pois a Estação foi Inativada em seu Cadastro,
                                            verifique com o Suporte de Operações e ou seu RO o Status do Contrato com a
                                            Mesma. </p>


                                        <p>Caso tenha convicção das informações Atualizadas da Estação, e deseje liberar
                                            a mesma para prosseguir com a Operação, será necessário informar o Motivo
                                            após solicitar a Reativação da Estação. </p>

                                        <div class="form-floating d-none" id="Motivo_Libera_Estacao_Inativa">
                                            <textarea class="form-control" placeholder="Descreva o Motivo"
                                                name="Texto_Motivo_Libera_Estacao" style="height: 200px"></textarea>
                                            <label for="floatingTextarea2">Descreva o Motivo...</label>
                                        </div>

                                    </div>
                                    <!--end::Content-->

                                    <!--begin::Buttons-->
                                    <div class="d-flex flex-center flex-wrap">
                                        <a href="javascript:;"
                                            class="btn btn-outline btn-outline-danger btn-active-danger m-2"
                                            id="Fecha_Div_Estacao_Inativa"
                                            onclick="Bt_Fecha_Div_Estacao_Inativa()">Cancelar
                                            Operação</a>


                                        <a href="javascript:;" class="btn btn-danger m-2"
                                            id="Bt_Reativa_Estacao_Inativa" onclick="bt_Reativa_Estacao()">Reativar
                                            Estação</a>

                                        <a href="javascript:;" class="btn btn-danger m-2 d-none"
                                            id="Bt_Reativa_Estacao_Inativa_Final"
                                            onclick="Bt_Reativa_Estacao_Inativa_Final()">Confirmar Solicitação</a>

                                    </div>
                                    <!--end::Buttons-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Alert ESTAÇÃO Inativa-->


                            <!--begin::Alert PLCODE EM ALERTA-->
                            <div class="alert alert-dismissible bg-light-danger d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10 d-none"
                                id="div_PLCode_em_Alerta">
                                <!--begin::Close-->
                                <button type="button"
                                    class="position-absolute top-0 end-0 m-2 btn btn-icon btn-icon-danger"
                                    data-bs-dismiss="alert">
                                    <span class="svg-icon svg-icon-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-arrow-down-left-square-fill"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm8.096-10.803L6 9.293V6.525a.5.5 0 0 0-1 0V10.5a.5.5 0 0 0 .5.5h3.975a.5.5 0 0 0 0-1H6.707l4.096-4.096a.5.5 0 1 0-.707-.707z" />
                                        </svg>
                                    </span>
                                </button>
                                <!--end::Close-->

                                <!--begin::Icon-->
                                <span class="svg-icon svg-icon-5tx svg-icon-danger mb-5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red"
                                        class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                        <path
                                            d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                        <path
                                            d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                                    </svg>
                                </span>
                                <!--end::Icon-->

                                <!--begin::Wrapper-->
                                <div class="text-center">
                                    <!--begin::Title-->
                                    <h1 class="fw-bolder mb-5">PLCode em Alerta</h1>
                                    <!--end::Title-->

                                    <!--begin::Separator-->
                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                    <!--end::Separator-->

                                    <!--begin::Content-->
                                    <div class="mb-9 text-dark">
                                        Foi Localizado um Chamado de Suporte para o PLCODE


                                        <p>Caso tenha convicção das informações Atualizadas do PLCode, e deseje liberar
                                            o mesmo, será necessário informar o Motivo, após solicitar a Liberação do
                                            PLCode.</p>


                                        <div class="form-floating d-none" id="Motivo_Libera_PLCODE_Alerta">
                                            <textarea class="form-control" placeholder="Descreva o Motivo"
                                                id="Texto_Checkin_Motivo_PLcode_Presencial_Alerta"
                                                name="Texto_Motivo_Libera_PLCODE" style="height: 200px"></textarea>
                                            <label for="floatingTextarea2">Descreva o Motivo...</label>
                                        </div>



                                    </div>
                                    <!--end::Content-->

                                    <!--begin::Buttons-->
                                    <div class="d-flex flex-center flex-wrap">
                                        <a href="javascript:;"
                                            class="btn btn-outline btn-outline-danger btn-active-danger m-2"
                                            id="Fecha_Div_PLCode_Alerta" onclick="Bt_Fecha_Div_PLCode_Alerta()">Cancelar
                                            Leitura</a>
                                        <a href="javascript:;" onclick="Bt_Libera_PLcode_Alerta()"
                                            class="btn btn-danger m-2" id="Bt_Libera_PLCode">Liberar PLCODE</a>


                                        <a href="javascript:;" onclick="Bt_Libera_PLcode_Alerta_Final()"
                                            class="btn btn-danger m-2 d-none"
                                            id="Bt_Libera_PLcode_Alerta_Final">Confirmar
                                            Solicitação
                                        </a>
                                    </div>
                                    <!--end::Buttons-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Alert PLCODE EM ALERTA-->


                            <!--begin::Alert PLCODE Inativo-->
                            <div class="alert alert-dismissible bg-light-danger d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10 d-none"
                                id="div_PLCode_Inativo">
                                <!--begin::Close-->
                                <button type="button"
                                    class="position-absolute top-0 end-0 m-2 btn btn-icon btn-icon-danger"
                                    data-bs-dismiss="alert">
                                    <span class="svg-icon svg-icon-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-arrow-down-left-square-fill"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm8.096-10.803L6 9.293V6.525a.5.5 0 0 0-1 0V10.5a.5.5 0 0 0 .5.5h3.975a.5.5 0 0 0 0-1H6.707l4.096-4.096a.5.5 0 1 0-.707-.707z" />
                                        </svg>
                                    </span>
                                </button>
                                <!--end::Close-->

                                <!--begin::Icon-->
                                <span class="svg-icon svg-icon-5tx svg-icon-danger mb-5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red"
                                        class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                        <path
                                            d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                        <path
                                            d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                                    </svg>
                                </span>
                                <!--end::Icon-->

                                <!--begin::Wrapper-->
                                <div class="text-center">
                                    <!--begin::Title-->
                                    <h1 class="fw-bolder mb-5">PLCode Inativo no Sistema</h1>
                                    <!--end::Title-->

                                    <!--begin::Separator-->
                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                    <!--end::Separator-->

                                    <!--begin::Content-->
                                    <div class="mb-9 text-dark">


                                        <p>Caso tenha convicção das informações Atualizadas do PLCode, e deseje reativar
                                            o mesmo, será necessário informar o Motivo, após solicitar a Reativação.</p>


                                        <div class="form-floating d-none" id="Motivo_Libera_PLCODE_Inativo">
                                            <textarea class="form-control" placeholder="Descreva o Motivo"
                                                id="Texto_Checkin_Motivo_PLcode_Presencial_Alerta"
                                                name="Texto_Motivo_Libera_PLCODE" style="height: 200px"></textarea>
                                            <label for="floatingTextarea2">Descreva o Motivo...</label>
                                        </div>

                                    </div>
                                    <!--end::Content-->

                                    <!--begin::Buttons-->
                                    <div class="d-flex flex-center flex-wrap">
                                        <a href="javascript:;"
                                            class="btn btn-outline btn-outline-danger btn-active-danger m-2"
                                            id="Fecha_Div_PLCode_Inativo"
                                            onclick="Bt_Fecha_Div_PLCode_Inativo()">Cancelar
                                            Leitura</a>
                                        <a href="javascript:;" class="btn btn-danger m-2" onclick="Bt_Reativa_PLCode()"
                                            id="Bt_Reativa_PLCode">Reativar PLCODE</a>

                                        <a href="javascript:;" class="btn btn-danger m-2 d-none"
                                            onclick="Bt_Reativa_PLCode_Final()" id="Bt_Reativa_PLCode_Final">Confirmar
                                            Solicitação</a>
                                    </div>
                                    <!--end::Buttons-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Alert PLCODE Inativo-->


                            <!-- Fecha os Alertas de PLCodes Inativos ou em Alerta e suas Estações de Operação-->


                            <!--Begin:: Modal Suporte-->

                            <div class="card d-none" id="div_suporte">
                                <div class="card-body">

                                    <div class="col-md-12 pe-lg-10">
                                        <!--begin::Form-->
                                        <form action="#" class="form mb-15 fv-plugins-bootstrap5 fv-plugins-framework"
                                            method="post" id="form_suporte">
                                            <h1 class="fw-bolder text-danger mb-9 text-uppercase"><i
                                                    class="bi bi-info-square-fill text-danger fs-2x"></i> Chamado de
                                                Suporte
                                            </h1>
                                            <!--begin::Input group-->
                                            <div class="row mb-5">
                                                <!--begin::Col-->
                                                <div class="col-md-6 fv-row fv-plugins-icon-container">
                                                    <!--begin::Label-->
                                                    <label class="fs-5 fw-bold mb-2">Categoria do Suporte</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <select class="form-select form-select-lg form-select-solid"
                                                        id="Select_Tipo_Suporte" name="tipo_suporte"
                                                        style="width: 100%">

                                                        <option value="0" selected="true" disabled>Selecione
                                                        </option>

                                                    </select>
                                                    <!--end::Input-->
                                                    <div class="fv-plugins-message-container invalid-feedback"></div>
                                                </div>
                                                <!--end::Col-->
                                                <!--begin::Col-->
                                                <div class="col-md-6 fv-row fv-plugins-icon-container">
                                                    <!--end::Label-->
                                                    <label class="fs-5 fw-bold mb-2">Origem</label>
                                                    <!--end::Label-->
                                                    <!--end::Input-->
                                                    <select class="form-select  form-select-lg form-select-solid"
                                                        id="select_origem_suporte" name="origem_suporte"
                                                        style="width: 100%">

                                                        <option value="0">Selecione</option>
                                                        <option value="1">PLCode</option>
                                                        <option value="2">Apenas Categoria e Motivo, ligados à
                                                            Estação
                                                            Atual</option>
                                                    </select>
                                                    <!--end::Input-->
                                                    <div class="fv-plugins-message-container invalid-feedback"></div>
                                                </div>
                                                <!--end::Col-->
                                            </div>
                                            <!--end::Input group-->
                                            <!--begin::Input group-->
                                            <div class="d-flex flex-column mb-5 fv-row d-none"
                                                id="div_Seleciona_PLCode_Suporte">
                                                <!--begin::Label-->
                                                <label class="fs-5 fw-bold mb-2">Informe o PLCode</label>
                                                <!--end::Label-->
                                                <!--begin::Input-->
                                                <select class="form-select form-select-lg form-select-solid"
                                                    style="width: 100%" id="select_suporte_plcode"
                                                    name="suporte_plcode">
                                                    <option></option>
                                                    <option value="0">Selecione</option>

                                                </select>
                                                <!--end::Input-->
                                            </div>
                                            <!--end::Input group-->
                                            <!--begin::Input group-->
                                            <div class="d-flex flex-column mb-10 fv-row fv-plugins-icon-container">
                                                <label class="fs-6 fw-bold mb-2">Detalhe o Motivo do
                                                    Suporte</label>
                                                <textarea class="form-control form-control-solid" rows="6"
                                                    name="texto_motivo_suporte" id="motivo_suporte"
                                                    placeholder=""></textarea>
                                                <div class="fv-plugins-message-container invalid-feedback"></div>
                                            </div>
                                            <!--end::Input group-->

                                            <!-- Envia Imagemd o Suporte -->
                                            <div class="d-flex flex-column mb-10 fv-row fv-plugins-icon-container"
                                                id="DIV_abre_modal_imagem_suporte">
                                                <label
                                                    class="btn btn-outline btn-outline-dashed btn-outline-default p-7 d-flex align-items-center"
                                                    for="abre_modal_imagem_suporte">
                                                    <!--begin::Icon-->
                                                    <span class="symbol symbol-50px me-4">
                                                        <span class="symbol-label ">

                                                            <a href="javascript:;" class="btn btn-icon btn-success me-2"
                                                                data-bs-toggle="modal"
                                                                data-bs-target="#modal_midia_evento"><i
                                                                    class="bi bi-camera  fs-4x "></i></a>

                                                        </span>
                                                    </span>
                                                    <!--end::Icon-->
                                                    <span class="d-block fw-bold text-start">
                                                        <span class="text-dark fw-bolder d-block fs-3">Enviar
                                                            Mídia?</span>
                                                        <span class="text-muted fw-bold fs-6">Caso seja permitido em sua
                                                            Estação, por favor, faça o envio de uma foto do
                                                            PLCode, deste momento.</span>
                                                    </span>
                                                </label>
                                            </div>

                                            <!-- Envia Imagemd o Suporte -->


                                            <button type="button" class="btn btn-light"
                                                id="bt_Fecha_Solicitacao_Suporte">Cancelar</button>


                                            <!--begin::Submit-->
                                            <button type="submit" class="btn btn-primary d-none"
                                                id="bt_Envia_Solicitacao_Suporte">
                                                <!--begin::Indicator-->
                                                <span class="indicator-label">Solicitar Suporte</span>
                                                <span class="indicator-progress">Aguarde...
                                                    <span
                                                        class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
                                                <!--end::Indicator-->
                                            </button>
                                            <!--end::Submit-->
                                            <div></div>
                                            <input type="hidden" name="acao" value="novo_suporte">
                                        </form>
                                        <!--end::Form-->
                                    </div>
                                </div>
                            </div>
                            <!--End::  Suporte-->

                            <!--begin::Aside column-->

                            <div class="card" id="div_conteudo_Com_plcode_lido">

                                <form id="form_leitura" action="#" method="post"
                                    class="form d-flex flex-column flex-lg-row" enctype="multipart/form-data">
                                    <!--begin::Card body-->
                                    <div class="card-body">

                                        <!--begin::Input group-->
                                        <div
                                            class="mb-10 fv-row fv-plugins-icon-container fv-plugins-bootstrap5-row-invalid">



                                            <!--begin::Dados do CHECKIN Selecionado-->
                                            <div class="d-flex align-items-center mb-2 d-none"
                                                id="div_Tipo_Checkin_Selecionado">


                                                <a href="javascript:;">
                                                    <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                                    <span class="svg-icon svg-icon-1 svg-icon-success 2hx"
                                                        data-bs-toggle="tooltip" title=""
                                                        data-bs-original-title="Este é o Tipo de Checkin que você Selecionou para realizar a Leitura."
                                                        aria-label="Este é o Tipo de Checkin que você Selecionou para realizar a Leitura">

                                                        <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34"
                                                            fill="currentColor" class="bi bi-clipboard2-check"
                                                            viewBox="0 0 16 16">
                                                            <path
                                                                d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z" />
                                                            <path
                                                                d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z" />
                                                            <path
                                                                d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3Z" />
                                                        </svg>

                                                    </span>
                                                    <!--end::Svg Icon-->
                                                </a>

                                                <a href="javascript:;" class="text-dark fs-4 fw-bolder ms-2"
                                                    id="tipo_checkin_selecionado">Tipo de Checkin Selecionado</a>
                                            </div>
                                            <!--end::Dados do CHECKIN Selecionado-->




                                            <!--begin::Label-->
                                            <div class="row d-flex align-items-center form-label mb-5"
                                                id="div_Precisa_de_Ajuda_Inicial">
                                                <a href="javascript:;"
                                                    class="btn btn-outline btn-outline-dashed btn-outline-success btn-active-light-success fs-2 fw-bolder me-1"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#modal_Procedimento_Ajuda">Precisa de
                                                    Ajuda?</a>
                                            </div>
                                            <!--end::Label-->


                                        </div>
                                        <!--end::Input group-->
                                        <!--begin::Input group-->
                                        <div
                                            class="mb-0 fv-row fv-plugins-icon-container fv-plugins-bootstrap5-row-valid">


                                            <div class="fv-plugins-message-container invalid-feedback d-none p-4"
                                                id="Div_Categoria_Suporte_Checkin_Presencial">

                                                <select class=" form-select form-select-solid "
                                                    id="Categoria_Suporte_Checkin_Presencial"
                                                    name="Categoria_Suporte_Checkin_Presencial" data-control="select2"
                                                    data-dropdown-css-class="w-200px" data-hide-search="true"
                                                    data-placeholder="Selecione uma Categoria">

                                                    <option value="010101">Selecione uma Categoria</option>

                                                </select>

                                            </div>
                                            <!-- lista os indicadores listados dinamicamente através do plcode lido-->
                                            <div class="row g-3" id="lista_indicadores_plcode_lido">


                                            </div>

                                            <!-- fim: lista os indicadores listados dinamicamente através do plcode lido-->




                                        </div>
                                        <!--end::Input group-->



                                        <!--begin::Actions-->
                                        <div class="d-flex flex-stack pt-15 justify-content-center d-none"
                                            id="div_Envia_Leitura">

                                            <!--begin::Wrapper-->


                                            <a href="javascript:;" id="Confirmar_Dados_Inseridos"
                                                class="btn btn-danger d-none">
                                                <i class="bi bi-exclamation-circle text-light fs-2x me-2 "></i>

                                                Confirmou os
                                                Dados ?</a>
                                            <!--end::Wrapper-->
                                            <!--begin::Wrapper-->
                                            <div>

                                                <button type="submit" id="Enviar_Leitura"
                                                    class="btn btn-success d-none">
                                                    <i class="bi bi-check-circle text-light fs-3x me-2"></i>

                                                    Enviar Leitura para Análise</button>


                                                <button type="submit" id="Enviar_Checkin"
                                                    class="btn btn-success d-none">
                                                    <i class="bi bi-check-circle text-light fs-3x me-2"></i>

                                                    Enviar Check-In para Análise</button>

                                                <!--end::Wrapper-->

                                            </div>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Actions-->


                                    </div>
                                    <!--end::Card body-->
                                </form>
                            </div>
                            <!--end::Main column-->


                        </div>
                        <!--end::Container-->
                    </div>
                    <!--end::Post-->


                </div>
                <!--end::Content-->

                <!--end::Container-->
            </div>



        </div>
        <!--end::Wrapper-->
    </div>
    <!--end::Page-->

    <!--begin::Footer-->
    <div class="footer py-4 d-flex flex-lg-column" id="kt_footer">
        <!--begin::Container-->
        <div class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between">
            <!--begin::Copyright-->

            <div id="kt_toolbar_container" class="container-fluid d-flex flex-column flex-md-row flex-md-stack">
                <!--begin::Wrapper-->
                <div class="d-flex align-items-center me-5 mb-3 mb-md-0">
                    <!--begin::Toolbar-->

                    <!--end::Toolbar-->
                    <!--begin::Section-->
                    <div class="d-flex align-items-left flex-shrink-0">
                        <!--begin::Wrapper-->
                        <div class="d-flex align-items-left mx-0">
                            <div class="aside-logo flex-column-auto" id="kt_aside_logo">
                                <!--begin::Logo-->
                                <a href="javascript:;">
                                    <img alt="Logo" src="assets/media/logos/logo-4-sm.png" class="h-25px logo" />
                                </a>
                                <!--end::Logo-->

                                <!--begin::Separator-->
                                <span class="h-20px border-gray-300 border-start mx-4">&nbsp; v3 - 2022</span>
                                <!--end::Separator-->

                            </div>

                        </div>
                        <!--end::Wrapper-->

                        <!-- INICIO: Barra de Progresso Diário-->
                        <!--begin::Desktop separartor
                                                    <div class="bullet bg-secondary h-35px w-1px mx-5">
                
                                                    </div>
                                                end::Desktop separartor
                                                
                                                    <span class="fs-7 text-gray-700 fw-bolder pe-5 ">Progresso Diário:</span>
                                                   
                                                    <div class="progress w-100px w-xl-150px w-xxl-300px h-25px bg-light-success">
                                                        <div class="progress-bar rounded bg-success fs-7 fw-bolder" role="progressbar"
                                                            style="width: 1%;" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100">
                                                        </div>
                                                        1%
                                                    </div>
                                    FIM:: Barra de Progresso Diário-->
                    </div>
                </div>
                <!--end::Section-->





            </div>
            <!--end::Wrapper-->

        </div>


        <!--end::Copyright-->
        <!--begin::Menu-->

        <!--end::Menu-->
    </div>
    <!--end::Footer-->
    </div>
    <!--end::Root-->


    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
        <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
        <span class="svg-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect opacity="0.5" x="13" y="6" width="13" height="2" rx="1" transform="rotate(90 13 6)"
                    fill="black" />
                <path
                    d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z"
                    fill="black" />
            </svg>
        </span>
        <!--end::Svg Icon-->
    </div>
    <!--end::Scrolltop-->


    <!--begin::Modals-->




    <!--begin::Modal Foto Leitura-->
    <div class="modal fade" tabindex="-1" id="modal_midia_evento" aria-hidden="true">

        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="titulo_nome_leitura_evento">

                    </h5>
                    <!--begin::Cancelar-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Cancelar">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Cancelar-->
                </div>
                <div class="modal-body">

                    <!--begin::Form-->
                    <form class="form" action="#" method="post">
                        <!--begin::Input group-->
                        <div class="fv-row" id="div_chama_midia_evento">
                            <!--begin::Dropzone-->
                            <div class="dropzone" id="Enviar_Midias">
                                <!--begin::Message-->
                                <div class="dz-message needsclick">
                                    <!--begin::Icon-->
                                    <i class="bi bi-file-earmark-arrow-up text-primary fs-3x"></i>
                                    <!--end::Icon-->

                                    <!--begin::Info-->
                                    <div class="ms-4">
                                        <h3 class="fs-5 fw-bolder text-gray-900 mb-1">Faça Upload da Imagem da Leitura
                                            deste Indicador.</h3>
                                        <span class="fs-7 fw-bold text-gray-400">Apenas 1 Imagem por Leitura até (5 MB)
                                            será Permitida.</span>
                                    </div>
                                    <!--end::Info-->
                                </div>

                            </div>
                            <!--end::Dropzone-->

                        </div>
                        <!--end::Input group-->

                        <span id="Bt_Envia_midia_evento" class="align-items-center"></span>
                    </form>
                    <!--end::Form-->


                </div>


                <div class="modal-footer">

                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>


                </div>
            </div>
        </div>
    </div>
    <!--end::Modal-->

    <!-- modal camera qrcode -->

    <div class="modal bg-white fade" tabindex="-2" id="modal_le_plcode" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content shadow-none">





                <div class="modal-header">
                    <div class="alert alert-success d-flex align-items-center p-2 mb-10">
                        <!--begin::Svg Icon | path: icons/duotune/general/gen048.svg-->
                        <span class="svg-icon svg-icon-2hx svg-icon-success me-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path opacity="0.3"
                                    d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z"
                                    fill="black"></path>
                                <path
                                    d="M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z"
                                    fill="black"></path>
                            </svg>
                        </span>

                        <!--end::Svg Icon-->
                        <div class="d-flex flex-column">

                            <!--begin::Accordion-->
                            <div class="accordion accordion-icon-toggle" id="kt_accordion_2">
                                <!--begin::Item-->
                                <div class="mb-5">
                                    <!--begin::Header-->
                                    <div class="accordion-header py-3 d-flex" data-bs-toggle="collapse"
                                        data-bs-target="#kt_accordion_2_item_1">
                                        <span class="accordion-icon"><span class="svg-icon svg-icon-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                    viewBox="0 0 24 24" fill="none">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1"
                                                        transform="rotate(-180 18 13)" fill="black"></rect>
                                                    <path
                                                        d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z"
                                                        fill="black"></path>
                                                </svg>
                                            </span></span>
                                        <h3 class="fs-4 fw-bold mb-0 ms-4 text-success">Leitura de PLCode Operacional
                                        </h3>



                                    </div>
                                    <!--end::Header-->

                                    <!--begin::Body-->
                                    <div id="kt_accordion_2_item_1" class="fs-6 collapse ps-10"
                                        data-bs-parent="#kt_accordion_2">
                                        <spam class=" p-4">
                                            <p> Caso a Página seja atualizada, ou no seu Próximo Acesso.

                                                Será solicitada uma nova Permissão para o Navegador Liberar o Acesso à
                                                Câmera.
                                                Evitando assim, que a mesma permaneça Aberta Indefinidamente.
                                            </p>
                                            <p> Respeitando as Políticas e Normas de acesso do Google.</p>

                                            <span class="fw-bold"> Você não poderá ler o mesmo PLCode duas vezes em
                                                seguida.</span>

                                        </spam>
                                    </div>
                                    <!--end::Body-->
                                </div>
                                <!--end::Item-->

                            </div>
                            <!--end::Accordion-->



                        </div>
                    </div>


                </div>

                <div class="modal-body" id="qr-reader">



                </div>

                <div id="qr-reader-results"></div>

                <div class="modal-footer">

                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>

                </div>

            </div>

        </div>
    </div>

    <!-- encerra modal camera qrcode-->



    <!-- Inicio: Modal Check-in Leitura de Indicadores-->

    <div class="modal bg-white fade" tabindex="-1" id="modal_checkin_leitura_rmm" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen" role="document">
            <div class="modal-content shadow-none">
                <div class="modal-header ">
                    <h5 class="modal-title fs-4 fw-bolder me-1 text-primary text-uppercase ">Checkin's para Leituras de
                        Indicadores
                        <div class='separator my-2'></div>
                        <div class="d-flex align-items-center mb-2">

                            <a href="javascript:;">
                                <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                <span class="svg-icon svg-icon-1 svg-icon-success 2hx" data-bs-toggle="tooltip" title=""
                                    data-bs-original-title="Esta é a Estação que foi selecionada automaticamente, através do PLCODE lido. "
                                    aria-label="Esta Estação foi selecionada automaticamente, através do PLCODE lido."
                                    aria-describedby="tooltip282263">
                                    <svg class="h-30px w-30px" xmlns="http://www.w3.org/2000/svg" width="24px"
                                        height="24px" viewBox="0 0 24 24">
                                        <path opacity="0.3"
                                            d="M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z"
                                            fill="black"></path>
                                        <path
                                            d="M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z"
                                            fill="black"></path>
                                    </svg>
                                </span>
                                <!--end::Svg Icon-->
                            </a>

                            <a href="javascript:;" class="text-gray-900 text-primary  fs-5 fw-bolder me-1">Estação:
                                <span id="Nome_Estacao_Checkin" class="text-primary fs-5"></span></a>

                        </div>

                    </h5>



                    <!--begin::Cancelar-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Cancelar">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Cancelar-->
                </div>

                <div class="modal-body" id="acoes_checkin_plcode_leitura">

                    <div class="alert alert-warning d-flex align-items-center p-5 mb-10">
                        <!--begin::Svg Icon | path: icons/duotune/general/gen048.svg-->
                        <span class="svg-icon svg-icon-2hx svg-icon-warning me-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path opacity="0.3"
                                    d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z"
                                    fill="black"></path>
                                <path
                                    d="M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z"
                                    fill="black"></path>
                            </svg>
                        </span>
                        <!--end::Svg Icon-->
                        <div class="d-flex flex-column">
                            <h4 class="mb-1 text-warning">Nenhum PLCode Lido!</h4>
                            <span>Você precisa realizar a Leitura de um PLCode de sua Estação de Operação, para podermos
                                exibir os
                                Check-in's agendados para Hoje</span>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary d-none" id="bt_Executa_checkin_leitura_Rmm">Realizar
                        este Check-In</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fim: Modal Check-in Leitura de Indicadores-->



    <!-- Inicio: Modal Check-in Verificação Presencial-->

    <div class="modal bg-white fade" tabindex="-1" id="modal_checkin_presencial" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen" role="document">
            <div class="modal-content shadow-none">
                <div class="modal-header ">
                    <h5 class="modal-title fs-4 fw-bolder me-1 text-primary text-uppercase ">Checkin's para Verificação
                        Presencial
                        <div class='separator my-2'></div>
                        <div class="d-flex align-items-center mb-2">

                            <a href="javascript:;">
                                <!--begin::Svg Icon | path: icons/duotune/general/gen026.svg-->
                                <span class="svg-icon svg-icon-1 svg-icon-success 2hx" data-bs-toggle="tooltip" title=""
                                    data-bs-original-title="Esta é a Estação que foi selecionada automaticamente, através do PLCODE lido. "
                                    aria-label="Esta Estação foi selecionada automaticamente, através do PLCODE lido."
                                    aria-describedby="tooltip282263">
                                    <svg class="h-30px w-30px" xmlns="http://www.w3.org/2000/svg" width="24px"
                                        height="24px" viewBox="0 0 24 24">
                                        <path opacity="0.3"
                                            d="M18.0624 15.3453L13.1624 20.7453C12.5624 21.4453 11.5624 21.4453 10.9624 20.7453L6.06242 15.3453C4.56242 13.6453 3.76242 11.4453 4.06242 8.94534C4.56242 5.34534 7.46242 2.44534 11.0624 2.04534C15.8624 1.54534 19.9624 5.24534 19.9624 9.94534C20.0624 12.0453 19.2624 13.9453 18.0624 15.3453Z"
                                            fill="black"></path>
                                        <path
                                            d="M12.0624 13.0453C13.7193 13.0453 15.0624 11.7022 15.0624 10.0453C15.0624 8.38849 13.7193 7.04535 12.0624 7.04535C10.4056 7.04535 9.06241 8.38849 9.06241 10.0453C9.06241 11.7022 10.4056 13.0453 12.0624 13.0453Z"
                                            fill="black"></path>
                                    </svg>
                                </span>
                                <!--end::Svg Icon-->
                            </a>

                            <a href="javascript:;" class="text-gray-900 text-primary  fs-5 fw-bolder me-1">Estação:
                                <span id="Nome_Estacao_Checkin_Presencial" class="text-primary fs-5"></span></a>

                        </div>

                    </h5>



                    <!--begin::Cancelar-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Cancelar">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Cancelar-->
                </div>

                <div class="modal-body" id="acoes_checkin_plcode_presencial">

                    <div class="alert alert-warning d-flex align-items-center p-5 mb-10">
                        <!--begin::Svg Icon | path: icons/duotune/general/gen048.svg-->
                        <span class="svg-icon svg-icon-2hx svg-icon-warning me-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path opacity="0.3"
                                    d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z"
                                    fill="black"></path>
                                <path
                                    d="M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z"
                                    fill="black"></path>
                            </svg>
                        </span>
                        <!--end::Svg Icon-->
                        <div class="d-flex flex-column">
                            <h4 class="mb-1 text-warning">Nenhum PLCode Lido!</h4>
                            <span>Você precisa realizar a Leitura de um PLCode de sua Estação de Operação, para podermos
                                exibir os
                                Check-in's agendados para Hoje</span>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary d-none"
                        id="bt_Executa_checkin_leitura_Presencial">Realizar
                        este Check-In</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fim: Modal Check-in Verificação Presencial-->




    <!-- Modal Atividades Recentes -->

    <div class="modal bg-white fade" tabindex="-1" id="modal_Atividades_Recentes" aria-hidden="true" role="dialog">
        <div class="modal-dialog modal-fullscreen" role="document">
            <div class="modal-content shadow-none">
                <div class="modal-header">
                    <h5 class="modal-title">Atividades Recentes da Estação: <span id="nome_Estacao_Atual_Atividades"
                            class="text-primary"></span>
                    </h5>

                    <!--begin::Cancelar-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Cancelar">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Cancelar-->
                </div>
                <div class="modal-body" id="retorno-modal-atividades">


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>
    <!-- Modal  Atividades Recentes -->

    <!-- Modal Instrução Operacional -->

    <div class="modal bg-white fade" tabindex="-1" id="modal_Instrucao_Operacional" aria-hidden="true" role="dialog">
        <div class="modal-dialog modal-fullscreen" role="document">
            <div class="modal-content shadow-none">
                <div class="modal-header">
                    <h5 class="modal-title  text-uppercase">Instrução Operacional <br> <span id="nome_PLCode_Lido"
                            class="text-primary"></span></h5>

                    <!--begin::Cancelar-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Cancelar">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Cancelar-->
                </div>
                <div class="modal-body" id="retorno-modal-instrucao">


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>
    <!-- FIM Modal Instrução Operacional -->




    <!-- Modal modal_Procedimento_Ajuda -->

    <div class="modal fade" tabindex="-1" id="modal_Procedimento_Ajuda">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold text-danger">Procedimento Operacional STEP</h5>

                    <!--begin::Close-->
                    <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal"
                        aria-label="Close">
                        <span class="svg-icon svg-icon-2x"></span>
                    </div>
                    <!--end::Close-->
                </div>

                <div class="modal-body bg-light-success d-flex flex-column">



                    <p><span class="badge badge-circle badge-success in-line">1</span>
                        Localize o ícone no Menu Superior: <i class="bi bi-qr-code-scan fs-3x text-dark"></i>
                    <p>E Leia o
                        PLCode
                        <strong> da sua Estação de Operação</strong>
                        <span class="badge badge-primary in-line text-uppercase">para ter acesso aos dados da
                            mesma.</span>
                    </p>

                    </p>


                    <p><span class="badge badge-circle badge-success in-line">2</span>
                        Você saberá se há <span class="badge badge-primary in-line text-uppercase">Indicadores</span>
                        para serem lidos hoje, diretamente pela Leitura do PLCode, ou receberá um aviso,
                        caso existam,<span class="badge badge-primary in-line text-uppercase">Checkin's agendados para
                            hoje</span>.</p>


                    <p>Assim, você poderá selecionar qual Checkin realizar através do ícone no Meu Superior <i
                            class="bi bi-alarm fs-2x text-primary fw-bolder"></i>.
                    </p>
                    <p><strong>Lembre-se de ter
                            lido o PLCode do Checkin, antes de selecioná-lo.</strong></p>
                    </p>


                    <p><span class="badge badge-circle badge-success in-line">3</span>
                        Confira os Valores de cada Leitura Informada.<strong> Se estão
                            digitadas corretamente.</strong>
                    </p>

                    <p><span class="badge badge-circle badge-success in-line">4</span>
                        Então, Você poderá <strong>EFETIVAR o Envio das Leituras dos
                            Indicadores</strong> deste PLCode Selecionado para o envio de dados.
                    </p>

                    <p><span class="badge badge-circle badge-success in-line">5</span>
                        Com as Imagens de Cada Parâmetro com seu devido valor informado, já tenha sido
                        enviadas, e você encontre dificuldade de qualidade de sinal de
                        internet para enviar os dados das Leituras, você poderá procurar um sinal
                        melhor de internet para <strong>EFETIVAR o Envio das
                            Leituras.</strong>
                    </p>

                    <p><span class="badge badge-danger">Suporte</span>
                        Caso o Sistema de Operação esteja Parado ou Você encontre outro Problema que precise ser
                        reportado.
                        <strong>No Menu Principal</strong>
                    <p>Você encontrará o ícone <i class="bi bi-info-square-fill  fs-3x  text-danger"></i></p>
                    <strong>Clique e Relate o Problema Ocorrido.</strong>

                    </p>

                    <span class="badge badge-primary inline text-uppercase">Nota</span>
                    <p>
                        O Envio da Mídia de Leitura, para cada Parâmetro Informado, <strong> Não é
                            Obrigatória.</strong>
                    <p>Apenas, se liberado o uso da
                        Câmera do Celular, em sua Estação de Tratamento.</p> Sempre siga a Orientação do Cliente onde
                    Opera sua Estação de Tratamento, em comum acordo e ciência do seu Supervisor de Operações.
                    </p>


                    <p>
                        O Envio da Mídia de Leitura, é Enviada Individualmente <strong> para cada Leitura
                            Digitada.</strong>
                        Já as Leituras de Todos os Indicadores, são enviadas de uma só vez, na conclusão da Leitura
                        Informada de todos os
                        Indicadores do PLCode Lido.
                    </p>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Fechar</button>

                </div>
            </div>
        </div>
    </div>


    <!--end::Modals-->




    <!--begin::Javascript-->

    <!-- a fim de criar uma instância (objeto) compatível com multiplos navegadores da classe requerida -->
    <script>
        var httpRequest;
        if (window.XMLHttpRequest) { // Mozilla, Safari, ...
            httpRequest = new XMLHttpRequest();
        } else if (window.ActiveXObject) { // IE 8 and older
            httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
        }
    </script>
    <!-- a fim de criar uma instância (objeto) compatível com multiplos navegadores da classe requerida -->

    <script>
        var hostUrl = "assets/";
    </script>
    <!--begin::Global Javascript Bundle(used by all pages)-->
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <!--end::Global Javascript Bundle-->

    <script src="//maps.google.com/maps/api/js?key=AIzaSyB0w-dRBF9x2Dc4oQt_TNZB6BGTaJMkRKs&sensor=false"></script>
    <!--
    <script
        src="https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyB0w-dRBF9x2Dc4oQt_TNZB6BGTaJMkRKs"></script>
-->
    <script src="assets/js/custom/authentication/valida_usuario-logado.js"></script>
    <script src="assets/js/custom/select2-pt-BR.js"></script>


    <!--Inicio Leitura do QRCODE-->
    <script src="qr-scan/html5-qrcode.min.js" type="text/javascript"></script>
    <!--end::Page Vendors Javascript-->


    <!-- Atualiza dados do Usuário Logado-->
    <script>
         setInterval(() => {

            var nome_usuario_logado = KTCookie.get('nome_usuario_logado');
        var email_usuario_logado = KTCookie.get('email_usuario_logado');
        var nivel_usuario_logado = KTCookie.get('nivel_usuario_logado');

        if (nome_usuario_logado != undefined && email_usuario_logado != undefined && nivel_usuario_logado != undefined) {

            $("#nome_usuario_logado").html(nome_usuario_logado);
            $("#email_usuario_logado").html(email_usuario_logado);
            $("#nivel_usuario_logado").html(nivel_usuario_logado);


        } else {


            setTimeout(() => {

                Swal.fire({
                    text: "Sessão Expirada! Por favor, Refaça seu Login!",
                    icon: "error",
                    buttonsStyling: true,
                    confirmButtonText: "Ok",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                });

            }, 2000);




        }
    }, 5000);

        if (foto_usuario_logado != undefined) {


            $("#foto_usuario_logado").attr("src", './assets/media/avatars/blank.png'); //./fotos_usuarios/' + foto_usuario_logado);

            $("#mini_foto_usuario_logado").attr("src", './assets/media/avatars/blank.png');

        } else {

            $("#foto_usuario_logado").attr("src", './assets/media/avatars/blank.png');

            $("#mini_foto_usuario_logado").attr("src", './assets/media/avatars/blank.png');


        }

    </script>
    <!--Atualiza dados do Usuário Logado-->

    <script>

        var nome_Cliente_Atual = KTCookie.get('nome_Cliente_Atual');
        var nome_Estacao_Atual = KTCookie.get('nome_Estacao_Atual');

        if (nome_Cliente_Atual != undefined && nome_Estacao_Atual != undefined) {


            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

            $("#nome_cliente").html(nome_Cliente_Atual);
            $("#nome_estacao").html(nome_Estacao_Atual);

        } else {


            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#Confirmar_Dados_Inseridos").addClass("d-none");
        }
    </script>

    <!-- INICIO: Carrega Dados do Checkin Operacional do PLCode Selecionado-->


    <!-- inicia rotina suporte -->
    <script>
        function Solicita_Suporte() {


            $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", false);


            $("#div_conteudo_Com_plcode_lido").addClass("d-none");


            // var estacao_atual = KTCookie.get("estacao_atual");


            if (KTCookie.get("estacao_atual") == undefined) {



                Swal.fire({
                    title: "Nenhuma Estação Selecionada!",
                    text: "Você já leu algum PLCode da sua Estação, após seu login?",
                    icon: "error",
                    buttonsStyling: true,
                    confirmButtonText: "Ok, Irei Ler o PLCode",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                });



                setTimeout(() => {

                    Swal.close();

                    $("#modal_le_plcode").modal("show");


                }, 4000);

                return false
            }


            if (KTCookie.get('CHAVE_UNICA_SESSAO_ATUAL') === undefined) {

                Swal.fire({
                    title: "Sessão Expirada",
                    html: "Após seu último envio de Dados, precisamos saber onde você se encontra dentro da Estação,</br> para que você possa enviar a Solicitação de Suporte.",
                    icon: "error",
                    buttonsStyling: !1,
                    confirmButtonText: "Ok, Irei Ler o PLCode!",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                })


                setTimeout(() => {

                    Swal.close();

                    $("#modal_le_plcode").modal("show");


                }, 4000);

                return false

            }

            KTCookie.set("indicador_evento", '0');

            $("#div_Boas_Vindas").addClass("d-none");

            $("#div_Precisa_de_Ajuda_Inicial").addClass("d-none");


            $("#div_suporte").removeClass("d-none");





        }

        $("#Select_Tipo_Suporte").select2({
            language: "pt-BR",
            ajax: {
                url: './crud/lista_categoria_suporte.php',
                type: "post",
                dataType: 'json',
                delay: 250,
                data: function (params) {
                    return {
                        searchTerm: params.term // search term
                    };
                },
                processResults: function (response) {
                    return {
                        results: response
                    };
                },
                cache: true
            }
        });



        $("#select_suporte_plcode").select2({
            language: "pt-BR",
            ajax: {
                url: './crud/lista_plcode_parametro-suporte.php',
                type: "post",
                dataType: 'json',
                delay: 250,
                data: function (params) {
                    return {
                        searchTerm: params.term // search term
                    };
                },
                processResults: function (response) {
                    return {
                        results: response
                    };
                },
                cache: true
            }
        });

        //====>> verifica origem sollicitada do suporte

        $('#select_origem_suporte').on('change', function () {
            var escolha = this.value;

            if (escolha == 1) {

                $("#div_Seleciona_PLCode_Suporte").removeClass("d-none");


            }

            if (escolha == 2) {

                $("#div_Seleciona_PLCode_Suporte").addClass("d-none");
                $('#select_suporte_plcode').val(null).trigger('change');


            }
        });



        //====>> verifica origem sollicitada do suporte



        //fazer ajax do envio do formulario de suporte
        // quando recebe o click de Cancelar Suporte ou Enviar Suporte


        $('#motivo_suporte').on('focus change', function () {
            if (!$(this).val() || $(this).val().length === 0) {

                $("#bt_Envia_Solicitacao_Suporte").addClass("d-none");


            }

            $("#bt_Envia_Solicitacao_Suporte").removeClass("d-none");





        });




        //   
        $("#bt_Envia_Solicitacao_Suporte").on("click", function (event) {

            event.preventDefault();





            if (KTCookie.get('CHAVE_UNICA_SESSAO_ATUAL') === undefined) {

                Swal.fire({
                    title: "Sessão Expirada",
                    html: "Após seu último envio de Dados, precisamos saber onde você se encontra dentro da Estação,</br> para que você possa enviar a Solicitação de Suporte.",
                    icon: "error",
                    buttonsStyling: !1,
                    confirmButtonText: "Ok, Irei Ler o PLCode!",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                })

                return false

            }



            var online = navigator.onLine;
            if (online === false) {

                Swal.fire({
                    text: "Sem Sinal",
                    html: "<h4>Falha no Sinal de Internet</h4><p>Por favor, se redirecione para uma busca de melhor sinal <strong> ( H+ ou 4G ) </strong> e tente realizar o Envio das Leituras Novamente.</p>",
                    icon: "error",
                    buttonsStyling: !1,
                    confirmButtonText: "Ok, Irei Verificar!",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                })

                return false

            } // Impede a  condição do Envio pois Não há sinal de internet
            else if (online === true) {


                var Dados_Suporte = $("#form_suporte").serialize()


                $.ajax({
                    type: "POST",
                    url: "crud/solicita-suporte.php",
                    dataType: "json",
                    data: Dados_Suporte,

                    success: function (data) {


                        if (data.codigo == 1) {


                            swal.fire({
                                title: "Fique Tranquilo!",
                                text: data.retorno,
                                type: "success",
                                confirmButtonClass: "btn btn-success"
                            })


                            $("#div_Boas_Vindas").removeClass("d-none");

                            $("#div_Seleciona_PLCode_Suporte").addClass("d-none");
                            $('#select_suporte_plcode').val(null).trigger('change');
                            $('#Select_Tipo_Suporte').val(null).trigger('change');
                            $("#div_suporte").addClass("d-none");
                            $("#bt_Envia_Solicitacao_Suporte").addClass("d-none");
                            $("#div_conteudo_Com_plcode_lido").addClass("d-none");

                            $('#select_origem_suporte').val(null).trigger('change');




                            $('#motivo_suporte').val('');




                        }
                        if (data.codigo == 0) {

                            Swal.fire({
                                title: "OPS!",
                                text: data.retorno,
                                icon: "warning",
                                buttonsStyling: !1,
                                confirmButtonText: "Ok",
                                customClass: {
                                    confirmButton: "btn btn-warning"
                                }
                            })


                            $("#bt_Envia_Solicitacao_Suporte").addClass("d-none");
                            $("#div_conteudo_Com_plcode_lido").addClass("d-none");
                        }


                    },
                    error: function (statusText, responseText, data) {
                        console.log('Falha no Processamento dos Dados.');
                        console.log('Dados de Retorno: ' + data);
                        console.log('statusText: ' + statusText);
                        console.log('responseText: ' + responseText);



                        Swal.fire({
                            title: "ERRO DE SQL",
                            text: data.retorno,
                            icon: "error",
                            buttonsStyling: !1,
                            confirmButtonText: "Ok!",
                            customClass: {
                                confirmButton: "btn btn-danger"
                            }
                        })

                        $('#select_origem_suporte').val(null).trigger('change');
                        $('#Select_Tipo_Suporte').val(null).trigger('change');
                        $("#bt_Envia_Solicitacao_Suporte").addClass("d-none");
                        $("#div_conteudo_Com_plcode_lido").addClass("d-none");

                    }

                });
                return false;

            } // fecha condição da execução do Envio pois há sinal de internet





        });


        $("#bt_Fecha_Solicitacao_Suporte").on("click", function () {

            $("#div_Boas_Vindas").removeClass("d-none");

            $("#div_Seleciona_PLCode_Suporte").addClass("d-none");
            $('#select_suporte_plcode').val(null).trigger('change');
            $('#Select_Tipo_Suporte').val(null).trigger('change');
            $("#div_suporte").addClass("d-none");
            $("#bt_Envia_Solicitacao_Suporte").addClass("d-none");
            $("#div_conteudo_Com_plcode_lido").addClass("d-none");

            $('#select_origem_suporte').val(null).trigger('change');




            $('#motivo_suporte').val('');
        });

    </script>

    <!-- finaliza rotina suporte-->


    <script>
        var modal_Atividades_Recentes = document.getElementById('modal_Atividades_Recentes')
        modal_Atividades_Recentes.addEventListener('show.bs.modal', function (event) {


            $("#bt_Executa_checkin_leitura_Presencial").addClass('d-none');






            var nome_Estacao_Atual_Atividades = KTCookie.get("nome_Estacao_Atual");

            var id_estacao = KTCookie.get("estacao_atual");

            if (nome_Estacao_Atual_Atividades != undefined && id_estacao != undefined) {


                busca_atividade_recente();

            } else {
                $('#retorno-modal-atividades').html('<div class="alert alert-warning d-flex align-items-center p-5 mb-10"><span class="svg-icon svg-icon-2hx svg-icon-warning me-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="black"></path>< path d = "M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z" fill = "black" ></path ></svg ></span > <div class="d-flex flex-column"><h4 class="mb-1 text-warning">Nenhum PLCode Lido!</h4><span>Você precisa realizar a Leitura de um PLCode de sua Estação de Operação, para podermos Consultar as Atividades Recentes da mesma.</span></div></div>');

                $("#nome_Estacao_Atual_Atividades").html('Estação Não Localizada');



            }

        });


    </script>

    <script>

        var modal_checkin_leitura_rmm = document.getElementById('modal_checkin_leitura_rmm')
        modal_checkin_leitura_rmm.addEventListener('show.bs.modal', function (event) {

            //alert("btn event");

            $("#bt_Executa_checkin_leitura_Rmm").addClass('d-none');




            var nome_Estacao_Atual = KTCookie.get("nome_Estacao_Atual");

            var id_estacao = KTCookie.get("estacao_atual");

            if (nome_Estacao_Atual != undefined && id_estacao != undefined) {


                busca_checkin_leitura();

            } else {
                $('#acoes_checkin_plcode_leitura').html('<div class="alert alert-warning d-flex align-items-center p-5 mb-10"><span class="svg-icon svg-icon-2hx svg-icon-warning me-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="black"></path>< path d = "M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z" fill = "black" ></path ></svg ></span > <div class="d-flex flex-column"><h4 class="mb-1 text-warning">Nenhum PLCode Lido!</h4><span>Você precisa realizar a Leitura de um PLCode de sua Estação de Operação, para podermos exibir os Checkins agendados para Hoje</span></div></div>');

                $("#Nome_Estacao_Checkin").html('Estação Não Localizada');



            }

        });


    </script>


    <script>
        var modal_checkin_presencial = document.getElementById('modal_checkin_presencial')
        modal_checkin_presencial.addEventListener('show.bs.modal', function (event) {

            //alert("btn event");

            $("#bt_Executa_checkin_leitura_Presencial").addClass('d-none');



            var nome_Estacao_Atual = KTCookie.get("nome_Estacao_Atual");

            var id_estacao = KTCookie.get("estacao_atual");

            if (nome_Estacao_Atual != undefined && id_estacao != undefined) {


                busca_checkin_presencial();

            } else {


                $('#acoes_checkin_plcode_presencial').html('<div class="alert alert-warning d-flex align-items-center p-5 mb-10"><span class="svg-icon svg-icon-2hx svg-icon-warning me-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="black"></path>< path d = "M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z" fill = "black" ></path ></svg ></span > <div class="d-flex flex-column"><h4 class="mb-1 text-warning">Nenhum PLCode Lido!</h4><span>Você precisa realizar a Leitura de um PLCode de sua Estação de Operação, para podermos exibir os Checkins agendados para Hoje</span></div></div>');

                $("#Nome_Estacao_Checkin_Presencial").html('Estação Não Localizada');



            }

        });


    </script>

    <!--FIM:  Carrega Dados do Checkin Operacional do PLCode Selecionado-->
    <!-- libera indicador-->

    <script>

        function Libera_Indicador(botao) {

            botao.attr('onclick', 'Libera_Indicador($(this));');

            var nome_indicador = botao.data('nome_indicador');

            var id_indicador = botao.data('id');



            KTCookie.set("nome_indicador_revogado", nome_indicador);
            KTCookie.set("id_indicador_revogado", id_indicador);



            Swal.fire({
                title: 'Precisa Liberar a Leitura deste Indicador?',
                html: '<b>Liberando a Leitura deste Indicador </b>, ele será liberado para informar os valores. </br> E o Suporte será automaticamente Alterado, devido a liberação do mesmo.',
                input: 'text',
                inputLabel: 'Informe o Motivo:',
                buttonsStyling: !1,
                inputPlaceholder: 'Por favor, descreva a sua justificativa...',
                inputAttributes: {
                    autocapitalize: 'off'
                },
                showCancelButton: true,
                confirmButtonText: 'Liberar Indicador',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-success",
                    cancelButton: "btn btn-warning"
                },
                showLoaderOnConfirm: true,
                preConfirm: (login) => {
                    return fetch(`crud/libera-leitura-indicador.php?id_indicador_liberado=` + id_indicador + `&motivo=${login}`)

                        .then(response => {
                            if (!response.ok) {
                                throw new Error(response.statusText)
                            }
                            return response.json()
                        })
                        .catch(error => {
                            Swal.showValidationMessage(
                                `Falha na Solicitação: ${error}`
                            )

                            KTCookie.remove("nome_indicador_revogado", nome_indicador);
                            KTCookie.remove("id_indicador_revogado", id_indicador);

                        })
                },
                allowOutsideClick: () => !Swal.isLoading()
            }).then((result) => {
                if (result.isConfirmed) {



                    if (result.value.codigo == 1) {
                        Swal.fire({
                            title: 'Liberação Recebida!',
                            text: `${result.value.mensagem}`
                        })



                        console.log("Liberação Realizada com Sucesso,  para o Indicador de nome: " + nome_indicador + " e ID:" + id_indicador);


                        $("#Texto_Nome_Parametro_Digitado_" + id_indicador).html("<span class='badge badge-light-success ms-2 fs-7'>Leitura Liberada</span>" + nome_indicador + '<br>');

                        $('label[id="label_' + id_indicador + '"]').removeClass("btn btn-outline btn-outline-dashed d-flex flex-stack text-start p-6 mb-5 active");

                        $('input[id="indicador_' + id_indicador + '"]').attr("disabled", false);
                        $('input[id="indicador_' + id_indicador + '"]').addClass("text-dark text-bold");




                        $('label[id="label_' + id_indicador + '"]').toggleClass("d-flex flex-stack mb-6 cursor-pointer");



                    }


                    if (result.value.codigo == 0) {
                        Swal.fire({
                            title: 'Ops!',
                            text: `${result.value.mensagem}`
                        })

                        KTCookie.remove("nome_indicador_revogado", nome_indicador);
                        KTCookie.remove("id_indicador_revogado", id_indicador);
                    }


                }
            })




        };


    </script>
    <!-- libera indicador-->

    <!-- revoga indicador-->
    <script>

        function Revoga_Indicador(botao) {

            botao.attr('onclick', 'Revoga_Indicador($(this));');

            var nome_indicador = botao.data('nome_indicador');

            var id_indicador = botao.data('id');

            //alert("label_" + id_indicador)

            KTCookie.set("nome_indicador_revogado", nome_indicador);
            KTCookie.set("id_indicador_revogado", id_indicador);



            Swal.fire({
                title: 'Precisa Revogar a Leitura deste Indicador?',
                html: '<b>Revogando a Leitura deste Indicador </b>, ele deixará de ser obrigatório dentro deste PLCode . </br> E um Suporte será aberto automaticamente, devido a não conformidade.',
                input: 'text',
                inputLabel: 'Informe o Motivo:',
                buttonsStyling: !1,
                inputPlaceholder: 'Por favor, descreva a sua justificativa...',
                inputAttributes: {
                    autocapitalize: 'off'
                },
                showCancelButton: true,
                confirmButtonText: 'Revogar Indicador',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-danger",
                    cancelButton: "btn btn-warning"
                },
                showLoaderOnConfirm: true,
                preConfirm: (login) => {
                    return fetch(`crud/revoga-leitura-indicador.php?id_indicador_revogado=` + id_indicador + `&motivo=${login}`)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(response.statusText)
                            }
                            return response.json()
                        })
                        .catch(error => {
                            Swal.showValidationMessage(
                                `Falha na Solicitação: ${error}`
                            )

                            KTCookie.remove("nome_indicador_revogado", nome_indicador);
                            KTCookie.remove("id_indicador_revogado", id_indicador);

                        })
                },
                allowOutsideClick: () => !Swal.isLoading()
            }).then((result) => {
                if (result.isConfirmed) {



                    if (result.value.codigo == 1) {
                        Swal.fire({
                            title: 'Revogação Recebida!',
                            text: `${result.value.mensagem}`
                        })



                        console.log("Revogação Realizada com Sucesso,  para o Indicador de nome: " + nome_indicador + " e ID:" + id_indicador);

                        $("#Texto_Nome_Parametro_Digitado_" + id_indicador).html("<span class='badge badge-light-warning ms-2 fs-7'>Leitura Suspensa</span>" + nome_indicador + '<br>');

                        $('input[id="indicador_' + id_indicador + '"]').attr("disabled", true);
                        $('input[id="indicador_' + id_indicador + '"]').addClass("text-dark text-bold");


                        $('label[id="label_' + id_indicador + '"]').addClass("d-none");

                        $('label[id="label_' + id_indicador + '"]').toggleClass("btn btn-outline btn-outline-dashed d-flex flex-stack text-start p-6 mb-5 active");


                    }


                    if (result.value.codigo == 0) {
                        Swal.fire({
                            title: 'Ops!',
                            text: `${result.value.mensagem}`
                        })

                        KTCookie.remove("nome_indicador_revogado", nome_indicador);
                        KTCookie.remove("id_indicador_revogado", id_indicador);
                    }


                }
            })




        };


    </script>
    <!-- revoga_indicador-->



    <!--- Ao Abrir a Modal da Instrucao Operacional-->
    <script>

        var modal_Instrucao_Operacional = document.getElementById('modal_Instrucao_Operacional')
        modal_Instrucao_Operacional.addEventListener('show.bs.modal', function (event) {

            var ponto = KTCookie.get('plcode_lido');

            if (ponto != undefined) {


                var nome_PLCode_Lido = KTCookie.get("nome_PLCode_Lido");

                var id_plcode_lido = KTCookie.get('plcode_lido');


                $.ajax({
                    type: 'POST',
                    url: "pages/instrucao_operacional/gera_instrucao.php",
                    dataType: 'html',
                    data: { "id_plcode_lido": id_plcode_lido },
                    success: function (data) {
                        $('#retorno-modal-instrucao').html(data);

                        $('#nome_PLCode_Lido').html('&nbsp' + nome_PLCode_Lido);


                    }


                });

            } else {
                $('#nome_PLCode_Lido').html('<span class="fw-bold text-danger">Nenhum PLCode Lido</span>');

                $('#retorno-modal-instrucao').html('<span class="fw-bold text-dark text-uppercase ">Leia o PLCode da Estação, que deseja exibir sua, Instrução Operacional. </span>');



            }

        });


    </script>

    <!--- Ao Abrir a Modal da Instrucao Operacional-->

    <script>


        // pega o click do Check-In selecionado na tabela de Check-In agendados


        function destaque_checkin() {


            //data-parametro_checkin (pega o id_do parametro) || id_periodo_checkin_ponto = pega o id_periodo_ponto da tabela Periodo Ponto, onde estão agendados cada chekin à ser realizado.
            // id_plcode_checkin_selecionado = pega o ID do PLCODE selecionado para Checkin (para validar se é o mesmo que está na sessão, se não for, limpa o atual e solicita a leitura do PLCODE selecionado para realizar o checkin)
            // getElementsByClassName("link-check")   
            // FALTANDO ==> Pegar Parametro clicado para atualizar na "div_conteudo_Com_plcode_lido", para poder realizar o checkin.


            var tipo_checkin_checkin_selecionado = [];
            var parametro_checkin_selecionado = [];
            var id_periodo_checkin_ponto_selecionado = [];
            var id_plcode_checkin_selecionado = [];


            $('.link-check:checked').each(function (item) {
                tipo_checkin_checkin_selecionado.push($(this).attr("data-tipo_checkin"));
                parametro_checkin_selecionado.push($(this).attr("data-parametro_checkin"));
                id_periodo_checkin_ponto_selecionado.push($(this).attr("data-id_periodo_checkin_ponto"));
                id_plcode_checkin_selecionado.push($(this).attr("data-id_plcode_checkin_selecionado"));
            });
            console.log('tipo_checkin:' + tipo_checkin_checkin_selecionado);
            console.log('Periodo Ponto - Checkin Agendado:' + id_periodo_checkin_ponto_selecionado);
            console.log('Parametro Checkin:' + parametro_checkin_selecionado);
            console.log('PLCode Checkin:' + id_plcode_checkin_selecionado);




            document.getElementById("id_periodo_ponto_checkin_agendado" + id_periodo_checkin_ponto_selecionado).setAttribute('class', 'btn btn-outline btn-outline-dashed d-flex flex-stack text-start p-6 mb-5 active');

            //active

            // var parametro_checkin = obj.data('parametro_checkin');
            //console.log("Parametro Checkin Clicado = " + parametro_checkin);

            if (tipo_checkin_checkin_selecionado == 'ponto_parametro') {



                $("#bt_Executa_checkin_leitura_Rmm").removeClass('d-none');

            }

            if (tipo_checkin_checkin_selecionado == 'ponto_plcode') {

                $("#bt_Executa_checkin_leitura_Presencial").removeClass('d-none');

            }


        }
        //============    

        $("#bt_Executa_checkin_leitura_Rmm").on("click", function () { // Quando o elemento do id "click" é clicado...

            $("#modal_checkin_leitura_rmm").modal('hide');

            $("#Div_Realiza_Checkin_Presencial").addClass('d-none');
            $("#Confirmar_Dados_Inseridos").addClass("d-none");


            Monta_Checkin_Para_Leitura();


            KTCookie.set("Tipo_Checkin_Selecionado", 'Leitura', { secure: true, 'max-age': 7200 });


        });


        $("#bt_Executa_checkin_leitura_Presencial").on("click", function () { // Quando o elemento do id "click" é clicado...

            $("#modal_checkin_presencial").modal('hide');
            $("#Confirmar_Dados_Inseridos").addClass("d-none");


            $("#Div_Realiza_Checkin_Presencial").removeClass('d-none');

            Monta_Checkin_Presencial();

            KTCookie.set("Tipo_Checkin_Selecionado", 'Presencial', { secure: true, 'max-age': 7200 });


        });


    </script>

    <!-- INÍCIO: Function para recuperar o Parametro selecionado para Checkin de Leitura de Indicadores-->
    <script>

        function Monta_Checkin_Para_Leitura() {

            $("#Div_Categoria_Suporte_Checkin_Presencial").addClass("d-none");

            $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", true);

            $("#div_suporte").addClass("d-none");

            var tipo_checkin_checkin_selecionado = '';
            var parametro_checkin_selecionado = '';
            var id_periodo_checkin_ponto_selecionado = '';
            var id_plcode_checkin_selecionado = '';
            var hora_leitura_check = '';
            var modo_checkin_leitura = '';
            var nome_plcode_checkin_selecionado = '';


            $('.link-check:checked').each(function (item) {
                tipo_checkin_checkin_selecionado = ($(this).attr("data-tipo_checkin"));
                parametro_checkin_selecionado = ($(this).attr("data-parametro_checkin"));
                id_periodo_checkin_ponto_selecionado = ($(this).attr("data-id_periodo_checkin_ponto"));
                id_plcode_checkin_selecionado = ($(this).attr("data-id_plcode_checkin_selecionado"));
                hora_leitura_check = ($(this).attr("data-hora_leitura"));
                modo_checkin_leitura = ($(this).attr("data-modo_checkin"));
                nome_plcode_checkin_selecionado = ($(this).attr("data-nome_plcode_checkin_selecionado"));
            });
            console.log('tipo_checkin:' + tipo_checkin_checkin_selecionado);
            console.log('Periodo Ponto - Checkin Agendado:' + id_periodo_checkin_ponto_selecionado);
            console.log('Parametro Checkin:' + parametro_checkin_selecionado);
            console.log('PLCode Checkin:' + id_plcode_checkin_selecionado);


            var PLCODE_LIDO_USER_SESSAO = KTCookie.get("plcode_lido");
            var PLCODE_CHECKIN_SELECIONADO = id_plcode_checkin_selecionado;
            var NOME_PLCODE_LIDO_USER_SESSAO = KTCookie.get("nome_PLCode_Lido");

            if (PLCODE_LIDO_USER_SESSAO != PLCODE_CHECKIN_SELECIONADO) {


                if (PLCODE_LIDO_USER_SESSAO != undefined) {

                    var mensagem = "Você está Logado através da sua última Leitura, que é o PLCode: <strong>" + NOME_PLCODE_LIDO_USER_SESSAO + "</strong>";
                } else {

                    var mensagem = "Você já realizou a leitura do último PLCode Lido";

                }

                Swal.fire({
                    title: "PLCode Divergente!",
                    html: mensagem + ", e você selecionou o PLCode: <strong> " + nome_plcode_checkin_selecionado + " </strong>, para poder realizar este Check-In, Você precisa ter lido o PLCode do Checkin Selecionado.</p>",
                    icon: "error",
                    buttonsStyling: !1,
                    confirmButtonText: "Ok!",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                })



                return false


            }



            KTCookie.set('tipo_checkin_atual', tipo_checkin_checkin_selecionado);
            KTCookie.set('hora_leitura_checkin', hora_leitura_check);
            KTCookie.set('modo_checkin', modo_checkin_leitura);
            KTCookie.set('periodo_ponto_checkin', id_periodo_checkin_ponto_selecionado);
            KTCookie.set('plcode_lido', id_plcode_checkin_selecionado);
            KTCookie.set('nome_PLCode_Lido', nome_plcode_checkin_selecionado);
            KTCookie.set('Parametro_Selecionado_Check_Leitura', parametro_checkin_selecionado);

            // GPS

            //var x = alert();
            Atualiza_GPS();

            //GPS
            //div_conteudo_Com_plcode_lido só aparece depois de ler o plcode
            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

            $("#div_Envia_Leitura").removeClass("d-none");


            var nome_PLCode_Lido_Checkin_Leitura = nome_plcode_checkin_selecionado;

            $("#lista_indicadores_plcode_lido").html("Buscando dados, por favor aguarde...");

            $.ajax({
                type: "POST",
                url: "crud/lista_indicadores_checkin-selecionado.php",
                dataType: "html",
                data: { "id_plcode_informado": id_plcode_checkin_selecionado, "id_periodo_checkin_ponto_selecionado": id_periodo_checkin_ponto_selecionado },
                success: function (retorno_check_leitura) {

                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#Dados_PLCode_lido").removeClass("d-none");

                    $("#lista_indicadores_plcode_lido").html(retorno_check_leitura);

                    $("#nome_plcode").html(nome_PLCode_Lido_Checkin_Leitura);

                    $("#Confirmar_Dados_Inseridos").addClass("d-none");

                    $("#div_Tipo_Checkin_Selecionado").removeClass("d-none");

                    $("#tipo_checkin_selecionado").html('Check-in por Parâmetro');


                    $("#div_Boas_Vindas").addClass("d-none");

                    $("#div_Precisa_de_Ajuda_Inicial").addClass("d-none");



                }, error: function (textStatus, responseText, data) {
                    console.log('Falha no Processamento dos Dados.');
                    console.log(data);
                    console.log('textStatus: ' + textStatus);
                    console.log('responseText: ' + responseText);



                    Swal.fire({
                        text: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + nome_PLCode_Lido_Checkin_Leitura + " </strong>.</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }
                    })

                }



            });

        }


    </script>
    <!--FIM:  Function para recuperar o Parametro selecionado para Checkin de Leitura de Indicadores-->


    <!-- INÍCIO: Function para recuperar o Parametro selecionado para Checkin de Verificação Presencial-->
    <script>

        function Monta_Checkin_Presencial(obj) {

            $("#div_suporte").addClass("d-none");



            var tipo_checkin_checkin_selecionado = '';
            var id_periodo_checkin_ponto_selecionado = '';
            var id_plcode_checkin_selecionado = '';
            var hora_leitura_check = '';
            var modo_checkin_leitura = '';
            var nome_plcode_checkin_selecionado = '';


            $('.link-check:checked').each(function (item) {
                tipo_checkin_checkin_selecionado = ($(this).attr("data-tipo_checkin"));
                id_periodo_checkin_ponto_selecionado = ($(this).attr("data-id_periodo_checkin_ponto"));
                id_plcode_checkin_selecionado = ($(this).attr("data-id_plcode_checkin_selecionado"));
                hora_leitura_check = ($(this).attr("data-hora_leitura"));
                modo_checkin_leitura = ($(this).attr("data-modo_checkin"));
                nome_plcode_checkin_selecionado = ($(this).attr("data-nome_plcode_checkin_selecionado"));
            });
            console.log('tipo_checkin:' + tipo_checkin_checkin_selecionado);
            console.log('Periodo Ponto - Checkin Agendado:' + id_periodo_checkin_ponto_selecionado);
            console.log('PLCode Checkin:' + id_plcode_checkin_selecionado);

            KTCookie.set('tipo_checkin_atual', tipo_checkin_checkin_selecionado);
            KTCookie.set('hora_leitura_checkin', hora_leitura_check);
            KTCookie.set('modo_checkin', modo_checkin_leitura);
            KTCookie.set('periodo_ponto_checkin', id_periodo_checkin_ponto_selecionado);
            KTCookie.set('plcode_lido', id_plcode_checkin_selecionado);
            KTCookie.set('nome_PLCode_Lido', nome_plcode_checkin_selecionado);




            //div_conteudo_Com_plcode_lido só aparece depois de ler o plcode
            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

            $("#div_Envia_Leitura").removeClass("d-none");

            // GPS

            Atualiza_GPS();

            //GPS

            var nome_PLCode_Lido_Checkin_Presencial = nome_plcode_checkin_selecionado;

            $("#lista_indicadores_plcode_lido").html("Buscando dados, por favor aguarde...");

            $.ajax({
                type: "POST",
                url: "crud/lista_indicadores_checkin-selecionado-presencial.php",
                dataType: "html",
                data: { "id_plcode_informado": id_plcode_checkin_selecionado, "id_periodo_checkin_ponto_selecionado": id_periodo_checkin_ponto_selecionado },
                success: function (retorno_check_presencial) {

                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");

                    $("#Confirmar_Dados_Inseridos").addClass("d-none");



                    $("#nome_plcode").html(nome_PLCode_Lido_Checkin_Presencial);

                    $("#lista_indicadores_plcode_lido").html(retorno_check_presencial);


                    $("#div_Boas_Vindas").addClass("d-none");

                    $("#div_Precisa_de_Ajuda_Inicial").addClass("d-none");


                    $("#div_Tipo_Checkin_Selecionado").removeClass("d-none");

                    $("#tipo_checkin_selecionado").html('Check-in Presencial');


                }, error: function (textStatus, responseText, data) {
                    console.log('Falha no Processamento dos Dados.');
                    console.log(data);
                    console.log('textStatus: ' + textStatus);
                    console.log('responseText: ' + responseText);



                    Swal.fire({
                        text: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + nome_PLCode_Lido_Checkin_Presencial + " </strong>.</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }
                    })

                }



            });



        }


    </script>
    <!-- FIM:  Function para recuperar o Parametro selecionado para Checkin de Verificação Presencial-->







    <!-- validação do PLCODE PRESENCIAL-->

    <script>



        function Plcode_Checkin_Presencial_OK() {

            var PLCODE_CHECKIN_PRESENCIAL = KTCookie.get("plcode_lido");

            KTCookie.set("indicador_evento", PLCODE_CHECKIN_PRESENCIAL);


            $("#DIV_abre_modal_imagem_checkin").removeClass("d-none");


            console.log("Aciona Pega Leitura Checkin Presencial PLCODE OK");


            $("#div_Botoes_Status_PLCode_Presencial").addClass("d-none");

            $("#Texto_Div_Titulo_CheckIn_Presencial").html("PLCode verificado e dentro dos Indicadores, basta realizar o Envio do Checkin!");

            $("#Confirmar_Dados_Inseridos").removeClass("d-none");

            $("#Explica_Checkin_Presencial").addClass("d-none");

            $("#div_Envia_Leitura").removeClass("d-none");


            $("#valor_checkin_presencial").val('1');

            return true



        };

        function Plcode_Checkin_Presencial_NOK() {

            var PLCODE_CHECKIN_PRESENCIAL = KTCookie.get("plcode_lido");

            KTCookie.set("indicador_evento", PLCODE_CHECKIN_PRESENCIAL);

            $("#Div_Categoria_Suporte_Checkin_Presencial").removeClass("d-none");


            $("#Categoria_Suporte_Checkin_Presencial").removeClass("d-none");




            $("#DIV_abre_modal_imagem_checkin").removeClass("d-none");

            $("#div_Envia_Leitura").removeClass("d-none");

            $("#Confirmar_Dados_Inseridos").removeClass("d-none");

            $("#Texto_Div_Titulo_CheckIn_Presencial").html("Por favor, descreva o Motivo deste PLCODE  estar com Problemas:");

            $("#Motivo_PLCode_Presencial").removeClass("d-none");

            $("#Explica_Checkin_Presencial").addClass("d-none");

            $("#div_Botoes_Status_PLCode_Presencial").addClass("d-none");


            $("#valor_checkin_presencial").val('2');

            Swal.fire({
                title: '<strong>Há Problema neste PLCode!</strong>',
                text: "Por favor, informe o Motivo no campo a seguir, para poder concluir o Checkin Presencial",
                icon: "warning",
                buttonsStyling: true,
                confirmButton: false,
                customClass: {
                    confirmButton: "btn btn-warning"
                }, timer: 5000


            });





            $("#Categoria_Suporte_Checkin_Presencial").select2({
                language: "pt-BR",
                ajax: {
                    url: './crud/lista_categoria_suporte.php',
                    type: "post",
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            searchTerm: params.term // search term
                        };
                    },
                    processResults: function (response) {
                        return {
                            results: response
                        };
                    },
                    cache: true
                }
            });

        }// fecha a função NOK


    </script>
    <!-- validação do PLCODE PRESENCIAL-->

    <script>
        // Monta PLCODE LIDO //

        var nome_Cliente_Atual = KTCookie.get('nome_Cliente_Atual');
        var nome_Estacao_Atual = KTCookie.get('nome_Estacao_Atual');

        if (nome_Cliente_Atual != undefined && nome_Estacao_Atual != undefined) {


            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

            $("#nome_cliente").html(nome_Cliente_Atual);
            $("#nome_estacao").html(nome_Estacao_Atual);

        } else {

            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#Confirmar_Dados_Inseridos").addClass("d-none");



        }


        function Monta_Plcode_Lido(plcode_lido) {

            $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", true);


            $("#div_Envia_Leitura").addClass("d-none");


            $("#Confirmar_Dados_Inseridos").addClass("d-none");

            $("#div_suporte").addClass("d-none");

            var plcode_lido = KTCookie.get("plcode_lido");

            // limpo os dados da sessa se a tratativa anterior tenha sido um checkin 
            KTCookie.remove("tipo_checkin_atual");

            KTCookie.remove("Tipo_Checkin_Selecionado");

            KTCookie.remove("periodo_ponto_checkin");

            KTCookie.remove("origem_parametro");

            KTCookie.remove("hora_leitura_checkin");

            KTCookie.remove("indicador_evento");

            KTCookie.remove("modo_checkin");


            // limpo os dados da sessa se a tratativa anterior tenha sido um checkin 

            //  var usuario = KTCookie.get("nome");

            // var id_usuario = KTCookie.get("id_usuario");

            $("#lista_indicadores_plcode_lido").html("Buscando dados, por favor aguarde...");
            //Busca os dados do cliente selecionado

            $.getJSON('crud/valida-plcode.php?plcode=' + plcode_lido, function (data) {
                $("#nome_cliente").html(data.nome_cliente);
                $("#nome_plcode").html(data.nome_plcode);
                $("#Nome_Estacao_Checkin").html(data.nome_estacao);
                $("#Nome_Estacao_Checkin_Presencial").html(data.nome_estacao);
                $("#nome_PLCode_Lido").html(data.nome_plcode);
                $("#nome_estacao").html(data.nome_estacao);
                $("#codigo_plcode_lido").html(data.id_plcode_lido);


                var id_suporte = data.id_suporte;

                var status_suporte = data.status_suporte;

                var motivo_suporte = data.motivo_suporte;

                var status_estacao_atual = data.status_estacao;

                var status_plcode_atual = data.status_plcode;


                // suporte

                KTCookie.set("status_suporte", data.status_suporte, { secure: true, 'max-age': 7200 });
                KTCookie.set("motivo_suporte", data.motivo_suporte, { secure: true, 'max-age': 7200 });

                KTCookie.set("id_suporte", data.id_suporte, { secure: true, 'max-age': 7200 });

                KTCookie.set("status_estacao_atual", data.status_estacao, { secure: true, 'max-age': 7200 });

                KTCookie.set("status_plcode_atual", data.status_plcode, { secure: true, 'max-age': 7200 });


                // suporte

                KTCookie.set("nome_Cliente_Atual", data.nome_cliente, { secure: true, 'max-age': 7200 });
                KTCookie.set("nome_Estacao_Atual", data.nome_estacao, { secure: true, 'max-age': 7200 });
                KTCookie.set("nome_PLCode_Lido", data.nome_plcode, { secure: true, 'max-age': 7200 });

                KTCookie.set("estacao_atual", data.id_estacao, { secure: true, 'max-age': 7200 });


                Atualiza_GPS();

                // inicia a verificação do Status da Estação e do PLCode lido, para prosseguir ou não com a Leitura e ou Liberação e Reativação dos Mesmos

                if (status_estacao_atual == 3) {

                    // exibo a div do alerta de estação inativada impossibilitando os dados do plcode lido e seus Indicadores



                    $("#div_Estacao_Inativa").removeClass("d-none");
                    $("#div_PLCode_em_Alerta").addClass("d-none");
                    $("#div_Estacao_em_Alerta").addClass("d-none");

                    $("#div_conteudo_Com_plcode_lido").addClass("d-none");


                    //=============


                    return false
                }

                if (status_estacao_atual == 2) {

                    // exibo a div do alerta de estação em alerta impossibilitando os dados do plcode lido e seus Indicadores



                    $("#div_Estacao_em_Alerta").removeClass("d-none");
                    $("#div_PLCode_em_Alerta").addClass("d-none");
                    $("#div_Estacao_Inativa").addClass("d-none");
                    $("#div_conteudo_Com_plcode_lido").addClass("d-none");
                    //=============


                    return false
                }


                if (status_plcode_atual == 2) { // em alerta

                    // exibo a div do alerta de PLCODE  impossibilitando os dados do plcode lido e seus Indicadores

                    $("#div_PLCode_em_Alerta").removeClass("d-none");
                    $("#div_Estacao_em_Alerta").addClass("d-none");
                    $("#div_Estacao_Inativa").addClass("d-none");
                    $("#div_conteudo_Com_plcode_lido").addClass("d-none");
                    //=============


                    return false
                }

                if (status_plcode_atual == 3) { // inativo

                    // exibo a div do alerta de PLCODE  impossibilitando os dados do plcode lido e seus Indicadores

                    $("#div_PLCode_Inativo").removeClass("d-none");
                    $("#div_PLCode_em_Alerta").addClass("d-none");
                    $("#div_Estacao_em_Alerta").addClass("d-none");
                    $("#div_Estacao_Inativa").addClass("d-none");
                    $("#div_conteudo_Com_plcode_lido").addClass("d-none");
                    //=============


                    return false
                }


                // ou seja, se nenhum deles estiver em Alerta ou Inativo, fechamos os alertas:
                if (status_plcode_atual != 2 || status_plcode_atual != 3 || status_estacao_atual != 2 || status_estacao_atual != 3) {
                    // estacao 1= ativa | estacao =2 inativa | estacao = 3 em alerta

                    $("#div_Estacao_Inativa").addClass("d-none");
                    $("#div_Estacao_em_Alerta").addClass("d-none");
                    $("#div_PLCode_em_Alerta").addClass("d-none");

                    $("#div_conteudo_Com_plcode_lido").addClass("d-none");



                }



                //div_conteudo_Com_plcode_lido só aparece depois de ler o plcode e validar o status da estacao e plcode, segue o loop de dados:

                $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

                var NOME_PLCODE_LIDO_USER_SESSAO = KTCookie.get("nome_PLCode_Lido");

                $("#nome_plcode").html(NOME_PLCODE_LIDO_USER_SESSAO);



                $.ajax({

                    url: "crud/lista_indicadores_plcode_lido.php",

                    type: 'post',

                    dataType: "html",
                    data: "id_plcode_informado=" + data.id_plcode_lido + "&id_usuario=" + id_usuario_logado,

                    beforeSend: function () {

                        $("#div_conteudo_Com_plcode_lido").removeClass("d-none");

                        $("#lista_indicadores_plcode_lido").html('<span class="fw-bold text-gray-600">  Por favor, Aguarde, carregando Lista de Indicadores... </span>');

                    }

                })

                    .done(function (retornoLista) {





                        $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                        $("#lista_indicadores_plcode_lido").html(retornoLista);

                        $("#Confirmar_Dados_Inseridos").removeClass("d-none");

                        $("#div_Precisa_de_Ajuda_Inicial").addClass("d-none");

                        $("#div_Boas_Vindas").addClass("d-none");



                    })

                    .fail(function (textStatus, responseText, retornoLista) {

                        $("#lista_indicadores_plcode_lido").html(retornoLista);

                        $("#div_Precisa_de_Ajuda_Inicial").addClass("d-none");

                        $("#div_Boas_Vindas").addClass("d-none");

                        Swal.fire({
                            text: "Ops!",
                            html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + plcode + " </strong>.</p>",
                            icon: "error",
                            buttonsStyling: !1,
                            confirmButtonText: "Ok!",
                            customClass: {
                                confirmButton: "btn btn-danger"
                            }
                        })

                        console.log('textStatus: ' + textStatus);

                    });


            });

        }

            // FIM Monta PLCODE LIDO //
    </script>

    <script>






        function Atualiza_GPS() {


            navigator.geolocation.getCurrentPosition(function (position) {



                var latitude = position.coords.latitude;
                var longitude = position.coords.longitude;
                var coordinate = new google.maps.LatLng(latitude, longitude);

                KTCookie.set('latitude_user', latitude);
                KTCookie.set('longitude_user', longitude);

                KTCookie.set("coordenada_GPS", coordinate);



                if (KTCookie.get("latitude_user") == "" || KTCookie.get("latitude_user") == undefined) {


                    $.getJSON("crud/log-leituras.php?acao=gps_bloqueado", function (data) {

                        Swal.fire({
                            text: "STEP sem Acesso ao GPS do Aparelho!",
                            html: "<h4>Falha ao verificar sua Localização</h4><p>Por favor, dê a permissão ao STEP de poder saber sua localização, essa permissão é solicitada somente no primeiro acesso, se bloqueada, assim ficará até que seja liberado o acesso à sua <strong> Localização </strong> <a class='kt-link kt-font-boldest' href='https://support.google.com/websearch/answer/179386?co=GENIE.Platform%3DAndroid&oco=1#zippy=%2Cpara-um-site-como-o-googlecombr'> Saiba como, Gerenciar suas permissões de localização </a></p>",
                            icon: "error",
                            buttonsStyling: !1,
                            confirmButtonText: "Ok, Irei Resolver!",
                            customClass: {
                                confirmButton: "btn btn-danger"
                            }
                        })

                    });

                    return false


                } else { console.log("Coordenadas GPS armazenadas com sucesso!"); }


            });


        }


        Atualiza_GPS();


    </script>

    <script>

        function docReady(fn) {
            // see if DOM is already available
            if (document.readyState === "complete"
                || document.readyState === "interactive") {
                // call on next available tick
                setTimeout(fn, 1);
            } else {
                document.addEventListener("DOMContentLoaded", fn);
            }
        }

        docReady(function () {

            var resultContainer = document.getElementById('qr-reader-results');
            var lastResult, countResults = 0;
            function onScanSuccess(decodedText, decodedResult) {


                if (html5QrcodeScanner.getState()
                    !== Html5QrcodeScannerState.NOT_STARTED) {
                    // Add this check to ensure success callback is not being called
                    // from file based scanner.

                    // Pause on scan result
                    // html5QrcodeScanner.pause();
                }


                if (decodedText !== lastResult) {
                    ++countResults;
                    lastResult = decodedText;
                    // Handle on success condition with the decoded message.
                    console.log(`Scan result ${decodedText}`, decodedResult);


                    //alert("decode text:" + decodedText)

                    plcode_lido = decodedText;
                    // armazeno o PLCode lido para   


                    //=== [ Pega a url do QRCODE, extrai somente o ID do Ponto lido]==

                    var parametrosDaUrl = plcode_lido.split("?")[1];
                    var listaDeParametros = parametrosDaUrl.split("&")

                    var hash = {}
                    for (var i = 0; i < listaDeParametros.length; i++) {
                        var parametro = listaDeParametros[i].split("=");
                        var chave = parametro[0];
                        var valor = parametro[1];
                        hash[chave] = valor;
                    }

                    //alert("PLCODE:"+hash.p);

                    var plcode_lido = hash.p

                    KTCookie.set("plcode_lido", plcode_lido, { secure: true, 'max-age': 7200 });


                    //  setTimeout(() => { $("#modal_le_plcode").modal("hide"); }, 3000);

                    $("#modal_le_plcode").modal("hide");

                    Monta_Plcode_Lido(plcode_lido);

                    $("#Dados_PLCode_lido").removeClass("d-none");

                    $("#div_Boas_Vindas").addClass("d-none");

                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");





                    //html5QrcodeScanner.pause();

                }
            }

            function onScanFailure(error) {
                // handle scan failure, usually better to ignore and keep scanning.
                // for example:
                console.warn(`Code scan error = ${error}`);
            }

            var html5QrcodeScanner = new Html5QrcodeScanner(
                "qr-reader", { fps: 10, qrbox: 250, rememberLastUsedCamera: false, aspectRatio: 1.7777778 }
            );
            html5QrcodeScanner.render(onScanSuccess);


            /* ENVIAR LEITURA  AVULSA Por Leitura de PLCode sem Checkin*/
            $("#Enviar_Leitura").on("click", function (event) {
                event.preventDefault();

                var online = navigator.onLine;
                if (online === false) {

                    Swal.fire({
                        text: "Sem Sinal",
                        html: "<h4>Falha no Sinal de Internet</h4><p>Por favor, se redirecione para uma busca de melhor sinal <strong> ( H+ ou 4G ) </strong> e tente realizar o Envio das Leituras Novamente.</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok, Irei Verificar!",
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }
                    })

                } // Impede a  condição do Envio pois Não há sinal de internet
                else if (online === true) {


                    // $("#lista_indicadores_plcode_lido").html("Por favor, aguarde. Enviando Dados...");
                    $("#div_Envia_Leitura").addClass("d-none");

                    $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", true);

                    var Dados_Imputados = $("#form_leitura").serialize();


                    console.log(Dados_Imputados);

                    $.ajax({
                        type: "POST",
                        url: "crud/envia-leituras.php",
                        dataType: "json",
                        data: Dados_Imputados,

                        success: function (data) {


                            if (data.codigo == 1) {
                                swal.fire({
                                    title: "Parabéns!",
                                    text: "Dados, armazenados com Sucesso!",
                                    type: "success",
                                    buttonsStyling: !1,
                                    confirmButtonClass: "btn btn-success"
                                })



                                //  KTCookie.remove("plcode_lido");

                                KTCookie.remove("nome_PLCode_Lido");

                                //   KTCookie.remove("indicador_evento");

                                //   KTCookie.remove("origem_parametro");

                                //   KTCookie.remove("modo_checkin");


                                //id = "div_conteudo_Com_plcode_lido"
                                //$("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");



                                $("#Dados_PLCode_lido").addClass("d-none");

                                $("#div_Boas_Vindas").removeClass("d-none");

                                $("#div_conteudo_Com_plcode_lido").addClass("d-none");


                                // $("#Confirmar_Dados_Inseridos").removeClass("d-none");



                                //======

                                $("#Enviar_Leitura").addClass("d-none");
                                $("#Enviar_Checkin").addClass("d-none");
                                //======    





                                $("#bt_Executa_checkin_leitura_Rmm").addClass('d-none');

                                $("#bt_Executa_checkin_leitura_Presencial").addClass('d-none');




                                var html5QrcodeScanner = new Html5QrcodeScanner(
                                    "qr-reader", { fps: 10, qrbox: 250, rememberLastUsedCamera: false, aspectRatio: 1.7777778 }
                                );




                            }
                            if (data.codigo == 0) {

                                Swal.fire({
                                    text: "ERRO DE CADASTRO",
                                    html: data.retorno,
                                    icon: "error",
                                    buttonsStyling: !1,
                                    confirmButtonText: "Ok, Irei Verificar!",
                                    customClass: {
                                        confirmButton: "btn btn-danger"
                                    }
                                })



                                //======
                                $("#div_Envia_Leitura").addClass("d-none");
                                $("#Confirmar_Dados_Inseridos").addClass("d-none");
                                $("#Enviar_Leitura").addClass("d-none");
                                $("#Enviar_Checkin").addClass("d-none");

                                //======

                                $("#bt_Executa_checkin_leitura_Rmm").addClass('d-none');

                                $("#bt_Executa_checkin_leitura_Presencial").addClass('d-none');

                            }


                        },
                        error: function (statusText, responseText, data) {
                            console.log('Falha no Processamento dos Dados.');
                            console.log('Dados de Retorno: ' + data);
                            console.log('statusText: ' + statusText);
                            console.log('responseText: ' + responseText);



                            Swal.fire({
                                text: "Ops!",
                                html: "Falha no Processamento dos Dados! <p> Impossível Salvar os Dados da Leitura .</p> <p>Entre em Contado com o Suporte</p> ",
                                icon: "error",
                                buttonsStyling: !1,
                                confirmButtonText: "Ok!",
                                customClass: {
                                    confirmButton: "btn btn-danger"
                                }
                            })


                            //======
                            $("#div_Envia_Leitura").addClass("d-none");
                            $("#Confirmar_Dados_Inseridos").addClass("d-none");
                            $("#Enviar_Leitura").addClass("d-none");
                            $("#Enviar_Checkin").addClass("d-none");
                            //======

                        }

                    });


                } // fecha condição da execução do Envio pois há sinal de internet

            });
            /* ENVIAR LEITURA  AVULSA Por Leitura de PLCode sem Checkin*/




        });


    </script>
    <!-- Fim Leitura do QRCODE e function para Enviar a Leitura Informada (PLCode Lido de forma Livre/Avulso)-->




    <!-- Início Função para Enviar Checkin Informado na Leitura/ou Presencial-->
    <script>

        /* ENVIAR LEITURA  por Checkin*/
        $("#Enviar_Checkin").on("click", function () {

            event.preventDefault();

            var online = navigator.onLine;
            if (online === false) {

                Swal.fire({
                    text: "Sem Sinal",
                    html: "<h4>Falha no Sinal de Internet</h4><p>Por favor, se redirecione para uma busca de melhor sinal <strong> ( H+ ou 4G ) </strong> e tente realizar o Envio os Dados do Check-In.</p>",
                    icon: "error",
                    buttonsStyling: !1,
                    confirmButtonText: "Ok, Irei Verificar!",
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }
                })

            } // Impede a  condição do Envio pois Não há sinal de internet
            else if (online === true) {

                $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", true);



                var Dados_Imputados = $("#form_leitura").serialize()


                //  $("#lista_indicadores_plcode_lido").html("Por favor, aguarde. Enviando Dados...");
                $("#div_Envia_Leitura").addClass("d-none");



                $.ajax({
                    type: "POST",
                    url: "crud/envia-leituras-checkin.php",
                    dataType: "json",
                    data: Dados_Imputados,

                    success: function (data) {


                        if (data.codigo == 1) {
                            swal.fire({
                                title: "Parabéns!",
                                text: "Check-In, armazenado com Sucesso!",
                                icon: "success",
                                buttonsStyling: !1,
                                confirmButtonClass: "btn btn-success",

                            })



                            KTCookie.remove("Tipo_Checkin_Selecionado");

                            KTCookie.remove("tipo_checkin_atual");


                            // KTCookie.remove("plcode_lido");

                            KTCookie.remove("nome_PLCode_Lido");

                            //  KTCookie.remove("indicador_evento");

                            KTCookie.remove("origem_parametro");

                            KTCookie.remove("tipo_checkin_atual");

                            KTCookie.remove("modo_checkin");

                            KTCookie.remove('hora_leitura_checkin');

                            KTCookie.remove('periodo_ponto_checkin');

                            KTCookie.remove('Parametro_Selecionado_Check_Leitura');

                            $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                            $("#Div_Categoria_Suporte_Checkin_Presencial").addClass("d-none");


                            $('#Categoria_Suporte_Checkin_Presencial').addClass("d-none");


                            $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", true);





                            //id = "div_conteudo_Com_plcode_lido"       origem_parametro-125
                            //$("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");




                            $("#Dados_PLCode_lido").addClass("d-none");

                            $("#div_Boas_Vindas").removeClass("d-none");

                            $("#div_conteudo_Com_plcode_lido").addClass("d-none");


                            // $("#Confirmar_Dados_Inseridos").removeClass("d-none");

                            //  $("#Confirmar_Dados_Inseridos").addClass("d-none");

                            $("#Enviar_Leitura").addClass("d-none");

                            $("#Enviar_Checkin").addClass("d-none");






                            $("#bt_Executa_checkin_leitura_Rmm").addClass('d-none');

                            $("#bt_Executa_checkin_leitura_Presencial").addClass('d-none');

                            // quando o checkin for presencial:
                            $("#Div_Realiza_Checkin_Presencial").addClass("d-none");

                            $("#Motivo_PLCode_Presencial").addClass("d-none");

                            $("#Explica_Checkin_Presencial").addClass("d-none");

                            $("#div_Botoes_Status_PLCode_Presencial").addClass("d-none");
                            $("#valor_checkin_presencial").val('');

                            $("#Texto_Div_Titulo_CheckIn_Presencial").html('Por favor, Verifique o PLCode, conforme Instrução Operacional');



                            //=====


                            var html5QrcodeScanner = new Html5QrcodeScanner(
                                "qr-reader", { fps: 10, qrbox: 250, rememberLastUsedCamera: false, aspectRatio: 1.7777778 }
                            );




                        }
                        if (data.codigo == 0) {

                            Swal.fire({
                                text: "ERRO DE CADASTRO",
                                html: data.retorno,
                                icon: "error",
                                buttonsStyling: !1,
                                confirmButtonText: "Ok, Irei Verificar!",
                                customClass: {
                                    confirmButton: "btn btn-danger"
                                }
                            })

                            $("#Dados_PLCode_lido").addClass('d-none');

                            $("#div_Boas_Vindas").removeClass("d-none");

                            $("#Confirmar_Dados_Inseridos").addClass("d-none");

                            $("#Enviar_Leitura").addClass("d-none");

                            $("#div_Envia_Leitura").addClass("d-none");

                            KTCookie.remove("Tipo_Checkin_Selecionado");

                            KTCookie.remove("tipo_checkin_atual");

                            // KTCookie.remove("plcode_lido");

                            KTCookie.remove("nome_PLCode_Lido");

                            KTCookie.remove("indicador_evento");

                            KTCookie.remove("modo_checkin");

                        }


                    },
                    error: function (statusText, responseText, data) {
                        console.log('Falha no Processamento dos Dados.');
                        console.log('Dados de Retorno: ' + data);
                        console.log('statusText: ' + statusText);
                        console.log('responseText: ' + responseText);



                        Swal.fire({
                            text: "Ops!",
                            html: "Falha no Processamento dos Dados! <p> Impossível Salvar os Dados do Checkin.</p><p>Entre em Contado com o Suporte</p>",
                            icon: "error",
                            buttonsStyling: !1,
                            confirmButtonText: "Ok!",
                            customClass: {
                                confirmButton: "btn btn-danger"
                            }
                        })

                    }

                });
                return false;

            } // fecha condição da execução do Envio pois há sinal de internet

        });


    </script>
    <!-- Fim: Função para Enviar Checkin Informado na Leitura/ou Presencial-->

    <script>

        function Altera_BT_ENVIO() {


            if (KTCookie.get('periodo_ponto_checkin') == undefined || KTCookie.get('periodo_ponto_checkin') == null) {

                $("#Enviar_Leitura").removeClass("d-none");
                $("#Enviar_Checkin").addClass("d-none");

                console.log("bt alterado para enviar leitura");
                console.log(KTCookie.get('periodo_ponto_checkin'));

            }

            if (KTCookie.get('periodo_ponto_checkin') != undefined || KTCookie.get('periodo_ponto_checkin') != null) {

                $("#Enviar_Checkin").removeClass("d-none");
                $("#Enviar_Leitura").addClass("d-none");

                console.log("bt alterado para enviar checkin");
                console.log(KTCookie.get('periodo_ponto_checkin'));

            }

        }

    </script>


    <script>

      

        $("#Confirmar_Dados_Inseridos").on("click", function () { // Quando o elemento do id "click" é clicado...


            Altera_BT_ENVIO();

            $("#Confirmar_Dados_Inseridos").addClass("d-none");


        });

    </script>




    <!-- Funcao para ENVIAR IMAGEM de CADA EVENTO -->
    <script>



        //====[ Gerencia a Modal de Envio de Imagem do Evento]===== nome_indicador

        $('#modal_midia_evento').on('shown.bs.modal', function (
            e) { // ao abrir modal inst op, fecha a modal do aviso da leitura fora do parametro
            e.preventDefault();

            $("#Enviar_midia_Evento_Selecionado").addClass('d-none');

            var online = navigator.onLine; // true ou false, (há, não há conexão à internet)
            if (online === false) {
                // efetuar pedido ajax



                $("#div_chama_midia_evento").html(
                    '<div class="alert alert-danger d-flex align-items-center p-5 mb-10">' +
                    '<span class="svg-icon svg-icon-2hx svg-icon-danger me-4">' +
                    '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">' +
                    '<path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="black"></path><path d="M10.5606 11.3042L9.57283 10.3018C9.28174 10.0065 8.80522 10.0065 8.51412 10.3018C8.22897 10.5912 8.22897 11.0559 8.51412 11.3452L10.4182 13.2773C10.8099 13.6747 11.451 13.6747 11.8427 13.2773L15.4859 9.58051C15.771 9.29117 15.771 8.82648 15.4859 8.53714C15.1948 8.24176 14.7183 8.24176 14.4272 8.53714L11.7002 11.3042C11.3869 11.6221 10.874 11.6221 10.5606 11.3042Z" fill="black"></path>' +
                    '</svg>' +
                    '</span>' +
                    '<div class="d-flex flex-column">' +
                    '<h4 class="mb-1 text-danger">Sem Conexão com a Internet</h4>' +
                    '<span>Por gentileza, confira a barra de status de internet do Seu Celular, precisa estar no mínimo <strong>H+</strong> e o Ideal <strong>4G</strong>, estando dentro destes Indicadores, você estará conectado novamente à internet, e poderá realizar o Envio da Imagem.</span>' +
                    '</div>' +
                    '</div>');




            }


            // verifica chave unida

            if (KTCookie.get("CHAVE_UNICA_SESSAO_ATUAL") == undefined) {



                $("#div_chama_midia_evento").html(
                    '<div class="alert alert-dismissible bg-light-danger border border-danger border-dashed d-flex flex-column flex-sm-row w-100 p-5 mb-10">' +
                    '<span class="svg-icon svg-icon-2hx svg-icon-danger me-4 mb-5 mb-sm-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">' +
                    '< path opacity = "0.3" d = "M2 4V16C2 16.6 2.4 17 3 17H13L16.6 20.6C17.1 21.1 18 20.8 18 20V17H21C21.6 17 22 16.6 22 16V4C22 3.4 21.6 3 21 3H3C2.4 3 2 3.4 2 4Z" fill = "black" ></path >' +
                    '<path d="M18 9H6C5.4 9 5 8.6 5 8C5 7.4 5.4 7 6 7H18C18.6 7 19 7.4 19 8C19 8.6 18.6 9 18 9ZM16 12C16 11.4 15.6 11 15 11H6C5.4 11 5 11.4 5 12C5 12.6 5.4 13 6 13H15C15.6 13 16 12.6 16 12Z" fill="black"></path>' +
                    '</svg ></span>' +
                    ' <div class="d-flex flex-column pe-0 pe-sm-10">' +
                    '<h5 class="mb-1">Sessão Expirada</h5>' +
                    ' <span>A cada Envio de Leitura, sua chave será expirada, sendo renovada a cada nova Leitura de um PLCode, para podermos identificar o ponto de origem da sua operação.</br> Refaça seu Login ou Leia outro PLCode da sua Estação.</span>' +
                    ' </div>' +
                    '<button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">' +
                    '<i class="bi bi-x fs-1 text-danger"></i>' +
                    '</button>' +
                    '</div>');



                $("#Enviar_midia_Evento_Selecionado").addClass('d-none')



            }
            // var Cookie_indicador_evento = KTCookie.get("indicador_evento");

            //    if(KTCookie.get("indicador_evento") == undefined)

            if (KTCookie.get("indicador_evento") == undefined) {



                $("#div_chama_midia_evento").html(
                    '<div class="alert alert-dismissible bg-light-danger border border-danger border-dashed d-flex flex-column flex-sm-row w-100 p-5 mb-10">' +
                    '<span class="svg-icon svg-icon-2hx svg-icon-danger me-4 mb-5 mb-sm-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">' +
                    '< path opacity = "0.3" d = "M2 4V16C2 16.6 2.4 17 3 17H13L16.6 20.6C17.1 21.1 18 20.8 18 20V17H21C21.6 17 22 16.6 22 16V4C22 3.4 21.6 3 21 3H3C2.4 3 2 3.4 2 4Z" fill = "black" ></path >' +
                    '<path d="M18 9H6C5.4 9 5 8.6 5 8C5 7.4 5.4 7 6 7H18C18.6 7 19 7.4 19 8C19 8.6 18.6 9 18 9ZM16 12C16 11.4 15.6 11 15 11H6C5.4 11 5 11.4 5 12C5 12.6 5.4 13 6 13H15C15.6 13 16 12.6 16 12Z" fill="black"></path>' +
                    '</svg ></span>' +
                    ' <div class="d-flex flex-column pe-0 pe-sm-10">' +
                    '<h5 class="mb-1">Ops! Você ainda não informou o valor da Leitura</h5>' +
                    ' <span> Somente após a informação da Leitura, sua Mídia , poderá ser enviada!</span>' +
                    ' </div>' +
                    '<button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">' +
                    '<i class="bi bi-x fs-1 text-danger"></i>' +
                    '</button>' +
                    '</div>');



                $("#Enviar_midia_Evento_Selecionado").addClass('d-none')



            } else {

                $("#Enviar_midia_Evento_Selecionado").removeClass('d-none')


                $("#titulo_nome_leitura_evento").html();

                var indicador_evento = KTCookie.get("indicador_evento");

                if (indicador_evento != undefined) {
                    // single file upload
                    $('#Enviar_Midias').dropzone({
                        url: "./crud/salva-midia-evento.php", // Set the url for your upload script location
                        paramName: "midia_leitura", // The name that will be used to transfer the file
                        capture: true,
                        maxFiles: 1,
                        uploadMultiple: false,
                        maxFilesize: 5, // in bytes 5e+6 =  5 MB
                        maxThumbnailFilesize: 5, //MB
                        parallelUploads: 1,
                        filesizeBase: 5000000,
                        addRemoveLinks: true,
                        acceptedFiles: "image/*",
                        resizeWidth: 1800,
                        resizeMethod: "contain",
                        method: "post",
                        dictFileTooBig: "Arquivo muito Grande ({{filesize}}MiB). Tamanho Max: {{maxFilesize}}MiB.",
                        dictInvalidFileType: "Você não pode enviar arquivos deste tipo, somente Imagens são permitidas",
                        dictFileSizeUnits: { tb: "TB", gb: "GB", mb: "MB", kb: "KB", b: "b" },
                        dictMaxFilesExceeded: "Permitido apenas 1 Imagem por Leitura.",
                        dictFallbackMessage: "Seu navegador não suporta uploads de arquivos de arrastar e soltar.",


                        accept: function (file, done) {



                            var Cookie_indicador_evento = KTCookie.get("indicador_evento");

                            $("#Enviar_midia_Evento_Selecionado").removeClass('d-none');


                            $("#Bt_Envia_midia_evento").html('<div class="separator my-10"></div><a href="javascript:;" class="btn btn-light-primary" id="Enviar_midia_Evento_Selecionado"><i class="bi bi-check2-square fs-2x"></i> Enviar Mídia</a>')

                            var element_envia_midia = document.getElementById('Enviar_midia_Evento_Selecionado')




                            element_envia_midia.addEventListener("click", () => {

                                done();



                                $("#modal_midia_evento").modal("hide");

                                $("#abre_modal_imagem_" + Cookie_indicador_evento).html('<i class="bi bi-check2-square fs-5x  text-success"></i>') // aqui resgato a imagem salva no banco de dados e exibo no lugar do botao para abrir a modal dae envio da imagem

                                Swal.fire({
                                    html: "<h4>Imagem Enviada com Sucesso!</h4><p>Prossiga para o Preenchimento do Próximo Parâmetro, caso não haja, Confira os dados inseridos e Prossiga com o <strong>Envio dos Dados!<strong><p>",
                                    icon: "success",
                                    buttonsStyling: false,
                                    confirmButtonText: "OK, Ótimo!",
                                    customClass: {
                                        confirmButton: "btn btn-primary"
                                    }
                                });






                            });

                            // KTCookie.remove("indicador_evento");

                            console.log("Midias Enviadas com Sucesso!");
                        },

                    });

                } else {

                    $("#modal_midia_evento").modal("hide");


                    Swal.fire({
                        html: "<h4>Envio de Midia não Permidido!</h4> </br> <p> Lembre-se, para cada Leitura (Parâmetro) informado, você deverá realizar o Envio da Mídia Logo em Seguida </p> <p><strong>Informe a Leitura do Próximo Parâmetro, para realizar o Envio da Mídia da Leitura do mesmo.<strong></p>",
                        icon: "error",
                        buttonsStyling: false,
                        confirmButtonText: "OK, Entendi!",
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }
                    });



                }
            }

        });




        // KTCookie.remove("indicador_evento");

        $('#modal_midia_evento').on('hidden.bs.modal', function (
            e) { // ao abrir modal inst op, fecha a modal do aviso da leitura fora do parametro
            e.preventDefault();
            c = document.querySelector('canvas'),
                ctx = c.getContext('2d'),
                ctx.clearRect(0, 0, c.width, c.height);

            $("#div_chama_midia_evento").html(
                '<div class="dropzone" id="Enviar_Midias"><div class="dz-message needsclick"><i class="bi bi-file-earmark-arrow-up text-primary fs-3x"></i><div class="ms-4"><h3 class="fs-5 fw-bolder text-gray-900 mb-1">Faça Upload da Imagem da Leitura deste Indicador.</h3><span class="fs-7 fw-bold text-gray-400">Apenas 1 Imagem por Leitura até (5 MB)será Permitida.</span></div></div></div>'
            );




        });

        //====[ Finaliza:: Gerenciamento da Modal de Envio de Imagem do Evento]====

    </script>
    <!-- END: Funcao para enviar imagem do evento-->



    <!-- Início: nome usuario logado-->
    <script>
        var usuario_operacao = KTCookie.get("nome_usuario_logado");
        $("#usuario_operacao").html("Boas Vindas à Operação, " + usuario_operacao + "!");
    </script>
    <!-- Fim: nome usuario logado-->




    <!-- Início: valido expiração dos cookies da sessão e se o usuário está conectado à internet -->
    <script>


        function Valida_Sessao_Ativa() {

            let estacao_atual = KTCookie.get('estacao_atual');
            let plcode_lido = KTCookie.get('plcode_lido');
            let id_usuario_logado = KTCookie.get('id_usuario_logado');



            setTimeout(function () {
                var online = navigator.onLine; // true ou false, (há, não há conexão à internet)

                if (online === false) {

                    $("#modal_le_plcode").modal("hide");


                    Swal.fire({
                        title: '<h4>Internet Off-line</h4>',
                        html: "<p><b>Sem Sinal de Internet Disponível em seu Celular!</b></p> <p> Procure um lugar com sinal H+ ou 4G.</p> <p>Estando destes Indicadores, você estará conectado à internet e poderá realizar a operação novamente.</p> <p class='text-danger'>Este aviso permenecerá até sua Conexão Voltar.</p>",
                        icon: "error",
                        timer: 5000,
                        buttonsStyling: true,
                        confirmButton: false,
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }


                    });



                    return false
                }

            }, 5000); // verifica a cada 5 segundos

            if (KTCookie.get("id_usuario_logado") === undefined) {

                setTimeout(function () {




                    Swal.fire({
                        title: '<strong>Sessão Expirada</strong>',
                        text: "Tempo de Inatividade alcançado, por favor, refaça seu Login!",
                        icon: "error",
                        timer: 5000,
                        buttonsStyling: true,
                        confirmButton: false,
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }


                    });

                    setTimeout(function () {
                        window.location.href = "./crud/logout.php";
                    }, 3000);



                }, 5000); // verifica a cada 5 segundos

            }


            if (KTCookie.get("plcode_lido") === undefined) {

                setTimeout(function () {


                    Swal.fire({
                        title: '<strong>Expirado o Tempo de Leitura do PLCode Selecionado</strong>',
                        text: "Por falta de inatividade, Sua Sessão Expirou, Por favor, refaça a Leitura do PLCode, para Prosseguir com a Leitura",
                        icon: "error",
                        timer: 5000,
                        buttonsStyling: true,
                        confirmButton: false,
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }

                    });

                    $("#modal_le_plcode").modal("show");



                }, 600000);// verifica a cada 5 segundos


            }


            if (KTCookie.get("estacao_atual") === undefined) {

                setTimeout(function () {



                    Swal.fire({
                        title: '<strong>Expirado o Tempo da Sessão da Estação</strong>',
                        text: "Por falta de inatividade, Sua Sessão Expirou, Por favor, faça a Leitura de Qualquer PLCode da sua Estação, para Identificarmos onde está sua Operação.",
                        icon: "error",
                        timer: 5000,
                        buttonsStyling: true,
                        confirmButton: false,
                        customClass: {
                            confirmButton: "btn btn-danger"
                        }


                    });

                    $("#modal_le_plcode").modal("show");



                }, 660000);// verifica a cada 5 segundos



            }

        }

        setInterval(function () {
            Valida_Sessao_Ativa();
        }, 5000); // verifica a cada 5 segundos




    </script>
    <!-- FIM: valido expiração dos cookies da sessão -->


    <!-- Inicio: função busca Check-In por Leitura de Indicadores -->
    <script type="text/javascript">

        function busca_checkin_leitura() {

            var estacao_atual = KTCookie.get('estacao_atual');


            var Nome_Estacao_Checkin = KTCookie.get('nome_Estacao_Atual');

            //Nome_Estacao_Checkin

            //===[ Busca Check-In de Leitura para a DIV Check-In Agendados - Aba = Leitura]===========================


            $.ajax({

                url: "./crud/consulta_checkin_operacao.php",

                type: 'post',

                data: "acao=consulta_checkin_leitura" + "&estacao=" + estacao_atual,

                beforeSend: function () {



                    $("#acoes_checkin_plcode_leitura").html('<span class="fw-bold text-gray-600">  Buscando Checkins para a Estação Selecionada... </span>');

                }

            })

                .done(function (msg) {

                    $("#acoes_checkin_plcode_leitura").html(msg);


                    KTCookie.set('tipo_checkin_atual', 'ponto_parametro', { secure: true, 'max-age': 7200 }); // leitur por parametro, grava na tb rmm e checkin (realizado)

                    var data = new Date();

                    var dia = String(data.getDate()).padStart(2, '0');

                    var mes = String(data.getMonth() + 1).padStart(2, '0');

                    var ano = data.getFullYear();

                    dataAtual = '&nbsp' + dia + '/' + mes + '/' + ano;

                    // console.log(dataAtual);


                    $("#Nome_Estacao_Checkin").html(Nome_Estacao_Checkin + '<div class="separator my-2"></div> para o dia: ' + dataAtual);

                    $("#Confirmar_Dados_Inseridos").addClass("d-none");

                    $("#Enviar_Leitura").addClass("d-none");

                    $("#Enviar_Checkin").addClass("d-none");



                })

                .fail(function (textStatus, msg) {

                    $("#acoes_checkin_plcode_leitura").html(msg);
                    console.log('textStatus: ' + textStatus);

                });


        }
    </script>
    <!-- Fim: função busca Check-In por Leitura de Indicadores-->



    <!-- Inicio: função busca Check-In por Verificação Presencial -->
    <script type="text/javascript">

        function busca_checkin_presencial() {

            var estacao_atual = KTCookie.get('estacao_atual');


            var Nome_Estacao_Checkin_Presencial = KTCookie.get('nome_Estacao_Atual');

            //Nome_Estacao_Checkin

            //===[ Busca Check-In de Leitura para a DIV Check-In Agendados - Aba = Leitura]===========================


            $.ajax({

                url: "./crud/consulta_checkin_operacao.php",

                type: 'post',

                data: "acao=consulta_checkin_presencial" + "&estacao=" + estacao_atual,

                beforeSend: function () {



                    $("#acoes_checkin_plcode_presencial").html('<span class="fw-bold text-gray-600">  Buscando Checkins para a Estação Selecionada... </span>');

                }

            })

                .done(function (msg) {

                    $("#acoes_checkin_plcode_presencial").html(msg);


                    KTCookie.set('tipo_checkin_atual', 'ponto_plcode', { secure: true, 'max-age': 7200 });//leitura presencial por plcode e grava somente na tb checkin (realizado)

                    var data = new Date();

                    var dia = String(data.getDate()).padStart(2, '0');

                    var mes = String(data.getMonth() + 1).padStart(2, '0');

                    var ano = data.getFullYear();

                    dataAtual = '&nbsp' + dia + '/' + mes + '/' + ano;

                    // console.log(dataAtual);


                    $("#Nome_Estacao_Checkin_Presencial").html(Nome_Estacao_Checkin_Presencial + '<div class="separator my-2"></div> para o dia: ' + dataAtual);

                    $("#Confirmar_Dados_Inseridos").addClass("d-none");

                    $("#Enviar_Leitura").addClass("d-none");

                    $("#Enviar_Checkin").addClass("d-none");

                    $("#Categoria_Suporte_Checkin_Presencial").prop("disabled", false);

                    $("#Div_Categoria_Suporte_Checkin_Presencial").addClass('d-none');


                })

                .fail(function (textStatus, msg) {

                    $("#acoes_checkin_plcode_presencial").html(msg);
                    console.log('textStatus: ' + textStatus);

                });


        }
    </script>
    <!-- Fim: função busca Check-In por Verificação Presencial-->


    <!-- Inicia a Busca das Atividades Rescentes-->
    <script>

        // Função responsável por atualizar as atividades recentes
        function busca_atividade_recente() {


            let nome_Estacao_Atual_Atividades = KTCookie.get("nome_Estacao_Atual");
            let id_estacao = KTCookie.get("estacao_atual");

            if (id_estacao == undefined) {

                $("#nome_Estacao_Atual_Atividades").html('Estação de Operação não Localizada!');

                $("#retorno-modal-atividades").html('<span class="text-center text-dark">Localize e Leia um PLCode da sua Estação de Operação, para poder visualizar as Atividades Recentes.</span>');
            }
            else {

                $.ajax({

                    url: "./crud/consulta_atividade_recente.php",
                    type: 'post',
                    dataType: 'html',
                    data: "acao=consulta_atividades" + "&id_estacao=" + id_estacao,

                    beforeSend: function () {

                        $("#nome_Estacao_Atual_Atividades").html(nome_Estacao_Atual_Atividades);

                        $("#retorno-modal-atividades").html(' Buscando Atividades ... <span class="kt-spinner kt-spinner--v2 kt-spinner--sm kt-spinner--brand"></span>');

                    }

                })

                    .done(function (response) {

                        // $("#tabela_checkin").removeClass('kt-hide');

                        $("#nome_Estacao_Atual_Atividades").html(nome_Estacao_Atual_Atividades);
                        $("#retorno-modal-atividades").html(response);


                    })

                    .fail(function (jqXHR, textStatus, response) {

                        $("#retorno-modal-atividades").html(jqXHR + textStatus + response);

                    });
            }

        }
    </script>
    <!-- FIM a Busca das Atividades Rescentes-->




    <!-- Início: valida os valores limires de cada indicador selecionado -->
    <script>

        function Valida_Indicador(botao) {

            botao.attr('onkeyup', 'Valida_Indicador($(this));');

            var periodo_ponto = botao.data('periodo_ponto');
            var modo_checkin = botao.data('modo_checkin');
            var hora_leitura = botao.data('hora_leitura');
            var concen_max = parseFloat(botao.data('max'));
            var indicador = botao.data('indicador'); // id do parametro que foi informada a leitura (captura o valor em tempo real, durante a digitação)
            var origem_parametro = botao.data('origem_parametro'); // se é leitura de entrada(1) ou leitura de saida (2)
            var concen_min = parseFloat(botao.data('min'));
            var concen_max = parseFloat(botao.data('max'));

            var valor_digitado = parseFloat(botao.val());


            console.log("Aciona Valida Indicador:" + indicador);






            if (valor_digitado !== "") {

                var periodo_ponto_checkin = KTCookie.get("periodo_ponto_checkin");

                KTCookie.set("indicador_evento", indicador, { secure: true, 'max-age': 7200 });

                KTCookie.set("origem_parametro", origem_parametro, { secure: true, 'max-age': 7200 });

                // verifica se há checkin em espera para esta leitura >>
                if (periodo_ponto_checkin != undefined) {
                    KTCookie.set("modo_checkin", modo_checkin, { secure: true, 'max-age': 7200 });

                    KTCookie.set("periodo_ponto_checkin", periodo_ponto, { secure: true, 'max-age': 7200 });

                    KTCookie.set("hora_leitura_checkin", hora_leitura, { secure: true, 'max-age': 7200 });
                }
                // verifica se há checkin em espera para esta leitura <<

                $("#abre_modal_imagem_" + indicador).fadeIn().removeClass("d-none");

                $("#Texto_Nome_Parametro_Digitado_" + indicador).removeClass('text-gray-900');

                $("#Texto_Nome_Parametro_Digitado_" + indicador).addClass('text-primary');


                $("#div_Envia_Leitura").removeClass("d-none");
                $("#Confirmar_Dados_Inseridos").removeClass("d-none");


            } else {

                $("#div_Envia_Leitura").addClass("d-none");
                $("#Confirmar_Dados_Inseridos").addClass("d-none");

            }


            // comparação dos valores das leiuras informadas

            if (valor_digitado > concen_max || valor_digitado < concen_min) {


                console.log("valor leitura =" + valor_digitado + " é  CONCENTRAÇÃO MÁXIMA EXCEDIDA de " + concen_max);

                botao.addClass('is-invalid');

                $("#Texto_Nome_Parametro_Digitado_" + indicador).removeClass('text-primary');
                $("#Texto_Nome_Parametro_Digitado_" + indicador).addClass('text-danger');


            } else {

                botao.removeClass('is-invalid');
                botao.addClass('is-valid');


                $("#Texto_Nome_Parametro_Digitado_" + indicador).removeClass('text-danger');
                $("#Texto_Nome_Parametro_Digitado_" + indicador).addClass('text-primary');

            }

            // comparação dos valores das leiuras informadas
            //return false
        }

    </script>
    <!-- Fim: valida os valores limires de cada indicador selecionado -->


    <!-- Início: comanda fechamento de segurança das modais-->
    <script type="text/javascript">

        $('#modal_le_plcode').on('shown.bs.modal', function (e) {

            e.preventDefault();

            var online = navigator.onLine; // true ou false, (há, não há conexão à internet)

            if (online === false) {

                $("#modal_le_plcode").modal("hide");


                swal.fire("Erro!", "Sem Sinal de Internet Disponível em seu Celular! Procure um lugar com sinal H+ ou 4G. Estando destes Indicadores, você estará conectado à internet e poderá realizar a operação novamente.", "error");
                return false
            }

            var valida_usuario_logado = KTCookie.get('id_usuario_logado');

            var valida_email_usuario_logado = KTCookie.get('email_usuario_logado');

            if (valida_usuario_logado == undefined || valida_email_usuario_logado == undefined) {



                Swal.fire({
                    title: '<strong>Falha de Acesso</strong>',
                    text: "Não encontramos seus dados de Login nesta seção, por favor refaça seu login, habilitando os KTCookie do Navegador Chrome.",
                    icon: "error",
                    buttonsStyling: true,
                    confirmButton: false,
                    customClass: {
                        confirmButton: "btn btn-danger"
                    }, timer: 5000


                });


                setTimeout(function () {


                    window.location.href = "./crud/logout.php"

                }, 5000);



                return false

            }


        });


        $('#modal_le_plcode').on('hidden.bs.modal', function (e) {
            e.preventDefault();

            //--- quando a modal do plcode lido é fechada --> hidden.bs.modal

            var nome_Cliente_Atual = KTCookie.get('nome_Cliente_Atual');
            var nome_Estacao_Atual = KTCookie.get('nome_Estacao_Atual');

            if (nome_Cliente_Atual != undefined && nome_Estacao_Atual != undefined) {


                $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").removeClass("d-none");

                $("#nome_cliente").html(nome_Cliente_Atual);
                $("#nome_estacao").html(nome_Estacao_Atual);
                $("#Confirmar_Dados_Inseridos").addClass("d-none");
                $("#Enviar_Checkin").addClass("d-none");

            } else {


                $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

                $("#Confirmar_Dados_Inseridos").addClass("d-none");
                $("#Enviar_Checkin").addClass("d-none");
            }

        });
    </script>
    <!-- Fim: comanda fechamento de segurança das modais-->


    <!-- Inicia a verificação e Validação do PLCode ou Estação em Alerta ou Inativadas-->
    <script>


        function Bt_Fecha_Div_PLCode_Inativo() {


            $("#div_PLCode_Inativo").addClass("d-none");

            $("#modal_le_plcode").modal('show');

            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#div_Boas_Vindas").removeClass("d-none");

            $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");


            $("#Motivo_Libera_PLCODE").addClass("d-none");




        }

        function Bt_Fecha_Div_PLCode_Alerta() {

            $("#div_PLCode_em_Alerta").addClass("d-none");

            $("#modal_le_plcode").modal('show');

            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#div_Boas_Vindas").removeClass("d-none");

            $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

            $("#Motivo_Libera_PLCODE").addClass("d-none");


        }

        function Bt_Fecha_Div_Estacao_Inativa() {

            $("#Div_Estacao_Inativa").addClass("d-none");

            $("#modal_le_plcode").modal('show');

            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#div_Boas_Vindas").removeClass("d-none");

            $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

            $("#Motivo_Libera_Estacao").addClass("d-none");


        }

        function Bt_Fecha_Div_Estacao_Alerta() {


            $("#div_Estacao_em_Alerta").addClass("d-none");

            $("#modal_le_plcode").modal('show');

            $("#div_Dados_Cliente_Estacao_sem_Novo_PLCode_Lido").addClass("d-none");

            $("#div_Boas_Vindas").removeClass("d-none");


            $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

            $("#Motivo_Libera_Estacao_Alerta").addClass("d-none");
        }


        // funcoes para liberação

        function bt_Reativa_Estacao() {




            Swal.fire({
                title: 'Você Tem Certeza?',
                text: "Esta Solicitação irá Reativar o Cadastro da Estação!",
                icon: 'warning',
                showCancelButton: true,
                buttonsStyling: !1,
                confirmButtonText: 'Sim, Pode Reativar!',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-warning",
                    cancelButton: "btn btn-primary"
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Última Etapa!',
                        'Descreva a seguir, o Motivo da Solicitação,  para poder Validá-la. O Suporte será comunicado.',
                        'warning'
                    )

                    $("#Motivo_Libera_Estacao_Inativa").removeClass("d-none");


                    $("#Fecha_Div_Estacao_Inativa").addClass("d-none");

                    $("#Bt_Reativa_Estacao_Inativa").addClass("d-none");


                    $("#Bt_Reativa_Estacao_Inativa_Final").removeClass("d-none");

                }
            })


        }

        //=== operaçõpes para Estação em Alerta
        function Bt_Libera_Estacao() {




            Swal.fire({
                title: 'Você Tem Certeza?',
                text: "Esta Solicitação irá Liberar o Cadastro da Estação!",
                icon: 'warning',
                showCancelButton: true,
                buttonsStyling: !1,
                confirmButtonText: 'Sim, Pode Liberar!',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-warning",
                    cancelButton: "btn btn-primary"
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Última Etapa!',
                        'Descreva a seguir, o Motivo da Solicitação,  para poder Validá-la. O Suporte será comunicado.',
                        'warning'
                    )



                    $("#Motivo_Libera_Estacao_Alerta").removeClass("d-none");

                    $("#Fecha_Div_Estacao_Alerta").addClass("d-none");

                    $("#Bt_Reativa_Estacao_em_Alerta").addClass("d-none");


                    $("#Bt_Reativa_Estacao_em_Alerta_Final").removeClass("d-none");

                }
            })




        }

        //=== operaçõpes para PLCode em Alerta


        function Bt_Libera_PLcode_Alerta() {


            Swal.fire({
                title: 'Você Tem Certeza?',
                text: "Esta Solicitação irá Liberar o PLCode!",
                icon: 'warning',
                showCancelButton: true,
                buttonsStyling: !1,
                confirmButtonText: 'Sim, Pode Liberar!',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-warning",
                    cancelButton: "btn btn-primary"
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Última Etapa!',
                        'Descreva a seguir, o Motivo da Solicitação,  para poder Validá-la. O Suporte será comunicado.',
                        'warning'
                    )

                    $("#Motivo_Libera_PLCODE_Alerta").removeClass("d-none");

                    $("#Fecha_Div_PLCode_Alerta").addClass("d-none");

                    $("#Bt_Libera_PLCode").addClass("d-none");


                    $("#Bt_Libera_PLcode_Alerta_Final").removeClass("d-none");




                }
            })



        }



        function Bt_Reativa_PLCode() {


            Swal.fire({
                title: 'Você Tem Certeza?',
                text: "Esta Solicitação irá Reativar o PLCode!",
                icon: 'warning',
                showCancelButton: true,
                buttonsStyling: !1,
                confirmButtonText: 'Sim, Pode Reativar!',
                cancelButtonText: 'Cancelar',
                customClass: {
                    confirmButton: "btn btn-warning",
                    cancelButton: "btn btn-primary"
                }
            }).then((result) => {
                if (result.isConfirmed) {

                    $("#Motivo_Libera_PLCODE_Inativo").removeClass("d-none");

                    Swal.fire(
                        'Última Etapa!',
                        'Descreva a seguir, o Motivo da Solicitação,  para poder Validá-la. O Suporte será comunicado.',
                        'warning'
                    )

                    $("#Fecha_Div_PLCode_Inativo").addClass("d-none");

                    $("#Bt_Reativa_PLCode").addClass("d-none");


                    $("#Bt_Reativa_PLCode_Final").removeClass("d-none");

                }
            })



        }

        // liberações após confirmar o aceite e descrever o motivo_suporte

        function Bt_Reativa_PLCode_Final() {
            $.ajax({

                url: "crud/suporte-libera-estacao-plcode.php",

                type: 'post',

                dataType: "html",

                beforeSend: function () {



                    $("#div_PLCode_Inativo").html('<span class="fw-bold text-gray-600">  Por favor, Aguarde, carregando Lista de Indicadores... </span>');

                }

            })

                .done(function (retorno_dados) {


                    Swal.fire(
                        'PLCode Reativado!',
                        'Sua Solicitação foi Aceita, nossos Gestores irão acompanhar sua Liberação. Atualize e Releia o Mesmo PLCode, caso deseje informar as leituras',
                        'success'
                    )


                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                    $("#div_PLCode_Inativo").addClass("d-none");


                    $("#Bt_Reativa_PLCode_Final").addClass("d-none");


                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");



                    setTimeout(() => {

                        location.reload();


                    }, 2000);




                })

                .fail(function (textStatus, responseText, retorno_dados) {



                    Swal.fire({
                        title: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + plcode + " </strong>.</p> <p> <strong>Motivo de Retorno Automático do Sistema: </strong> " + retorno_dados + "</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-warning",
                            cancelButton: "btn btn-primary"
                        }
                    })

                    console.log('textStatus: ' + textStatus);


                    $("#div_PLCode_Inativo").addClass('d-none');



                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                });

            // aqui vai a requisição para liberar o suporte, plocde e estacao

        }

        function Bt_Libera_PLcode_Alerta_Final() {

            $.ajax({

                url: "crud/suporte-libera-estacao-plcode.php",

                type: 'post',

                dataType: "json",

                beforeSend: function () {



                    $("#div_PLCode_em_Alerta").html('<span class="fw-bold text-gray-600">  Por favor, Aguarde, carregando Lista de Indicadores... </span>');

                }

            })

                .done(function (retorno_dados) {

                    if(retorno_dados.codigo=='1'){


                    Swal.fire(
                        'PLCode Liberado!',
                        'Sua Solicitação foi Aceita, nossos Gestores irão acompanhar sua Liberação.',
                        'success'
                    )


                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                    $("#div_PLCode_em_Alerta").addClass("d-none");


                    $("#Bt_Reativa_PLCode_Final").addClass("d-none");


                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                    setTimeout(() => {

                        location.reload();


                    }, 2000);
                }else{

                    Swal.fire(
                        'Tentativa de Liberação de PLCode Inválida!',
                        retorno_dados.retorno,
                        'error'
                    )


                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");
                }

                })

                .fail(function (textStatus, responseText, retorno_dados) {



                    Swal.fire({
                        title: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + plcode + " </strong>.</p> <p> <strong>Motivo de Retorno Automático do Sistema: </strong> " + retorno_dados + "</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-warning",
                            cancelButton: "btn btn-primary"
                        }
                    })

                    console.log('textStatus: ' + textStatus);


                    $("#div_PLCode_em_Alerta").addClass('d-none');



                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                });



            // aqui vai a requisição para liberar o suporte, plocde e estacao

        }

        function Bt_Reativa_Estacao_Inativa_Final() {

            $.ajax({

                url: "crud/suporte-libera-estacao-plcode.php",

                type: 'post',

                dataType: "html",

                beforeSend: function () {



                    $("#div_Estacao_Inativa").html('<span class="fw-bold text-gray-600">  Por favor, Aguarde, carregando Lista de Indicadores... </span>');

                }

            })

                .done(function (retorno_dados) {


                    Swal.fire(
                        'Estação Reativada!',
                        'Sua Solicitação foi Aceita, nossos Gestores irão acompanhar sua Liberação.',
                        'success'
                    )


                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                    $("#div_Estacao_Inativa").addClass("d-none");


                    $("#Bt_Reativa_Estacao_Inativa_Final").addClass("d-none");


                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                    setTimeout(() => {

                        location.reload();


                    }, 2000);

                })

                .fail(function (textStatus, responseText, retorno_dados) {



                    Swal.fire({
                        title: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + plcode + " </strong>.</p> <p> <strong>Motivo de Retorno Automático do Sistema: </strong> " + retorno_dados + "</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-warning",
                            cancelButton: "btn btn-primary"
                        }
                    })

                    console.log('textStatus: ' + textStatus);


                    $("#div_Estacao_Inativa").addClass('d-none');



                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                });




            // aqui vai a requisição para liberar o suporte, plocde e estacao

        }

        function Bt_Reativa_Estacao_em_Alerta_Final() {



            $.ajax({

                url: "crud/suporte-libera-estacao-plcode.php",

                type: 'post',

                dataType: "html",

                beforeSend: function () {



                    $("#div_Estacao_em_Alerta").html('<span class="fw-bold text-gray-600">  Por favor, Aguarde, carregando Lista de Indicadores... </span>');

                }

            })

                .done(function (retorno_dados) {


                    Swal.fire(
                        'Estação Liberada!',
                        'Sua Solicitação foi Aceita, nossos Gestores irão acompanhar sua Liberação.',
                        'success'
                    )


                    $("#div_conteudo_Com_plcode_lido").removeClass("d-none");


                    $("#div_Tipo_Checkin_Selecionado").addClass("d-none");

                    $("#div_Estacao_em_Alerta").addClass("d-none");


                    $("#Bt_Reativa_Estacao_em_Alerta_Final").addClass("d-none");


                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                    setTimeout(() => {

                        location.reload();


                    }, 2000);

                })

                .fail(function (textStatus, responseText, retorno_dados) {



                    Swal.fire({
                        title: "Ops!",
                        html: "Falha no Processamento dos Dados <p> Favor, Tirar um Print da sua Tela e Enviar ao Suporte, informando o Ocorrido e PLCode: <strong> " + plcode + " </strong>.</p> <p> <strong>Motivo de Retorno Automático do Sistema: </strong> " + retorno_dados + "</p>",
                        icon: "error",
                        buttonsStyling: !1,
                        confirmButtonText: "Ok!",
                        customClass: {
                            confirmButton: "btn btn-warning",
                            cancelButton: "btn btn-primary"
                        }
                    })

                    console.log('textStatus: ' + textStatus);


                    $("#div_Estacao_em_Alerta").addClass('d-none');



                    $("#div_Precisa_de_Ajuda_Inicial").removeClass("d-none");

                    $("#div_Boas_Vindas").removeClass("d-none");

                });




            // aqui vai a requisição para liberar o suporte, plocde e estacao
        }



    </script>









    <!-- Recursos FrameWork -->
    <script src="assets/js/widgets.bundle.js"></script>
    <script src="assets/js/custom/widgets.js"></script>
    <!-- Recursos FrameWork -->

</body>


</html>